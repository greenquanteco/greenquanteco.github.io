<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3.4 Managing dates and characters | Applied Biological Data Analysis</title>
  <meta name="description" content="Helping biologists to become more informed users of R and statistical methods." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="3.4 Managing dates and characters | Applied Biological Data Analysis" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://greenquanteco.github.io/index.html" />
  <meta property="og:image" content="https://greenquanteco.github.io/index.html/C:/Users/ngreen62/OneDrive - Kennesaw State University/ksu/website/lab_logo_02.jpg" />
  <meta property="og:description" content="Helping biologists to become more informed users of R and statistical methods." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3.4 Managing dates and characters | Applied Biological Data Analysis" />
  
  <meta name="twitter:description" content="Helping biologists to become more informed users of R and statistical methods." />
  <meta name="twitter:image" content="https://greenquanteco.github.io/index.html/C:/Users/ngreen62/OneDrive - Kennesaw State University/ksu/website/lab_logo_02.jpg" />

<meta name="author" content="Nick Green, Kennesaw State University" />


<meta name="date" content="2022-01-12" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="3.3-selecting-data-with.html"/>
<link rel="next" href="3.5-mod-03-dataframe.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="license-and-permissions.html"><a href="license-and-permissions.html"><i class="fa fa-check"></i>License and permissions</a></li>
<li class="chapter" data-level="" data-path="course-description.html"><a href="course-description.html"><i class="fa fa-check"></i>Course description</a></li>
<li class="chapter" data-level="" data-path="course-objectives.html"><a href="course-objectives.html"><i class="fa fa-check"></i>Course objectives</a></li>
<li class="chapter" data-level="" data-path="course-requirements.html"><a href="course-requirements.html"><i class="fa fa-check"></i>Course requirements</a></li>
<li class="chapter" data-level="" data-path="recommended-reading.html"><a href="recommended-reading.html"><i class="fa fa-check"></i>Recommended reading</a></li>
<li class="chapter" data-level="" data-path="course-organization.html"><a href="course-organization.html"><i class="fa fa-check"></i>Course organization</a></li>
<li class="chapter" data-level="" data-path="about-the-author.html"><a href="about-the-author.html"><i class="fa fa-check"></i>About the author</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="1-mod-01.html"><a href="1-mod-01.html"><i class="fa fa-check"></i><b>1</b> Statistics in modern biology</a>
<ul>
<li class="chapter" data-level="1.1" data-path="1.1-overview.html"><a href="1.1-overview.html"><i class="fa fa-check"></i><b>1.1</b> Overview</a></li>
<li class="chapter" data-level="1.2" data-path="1.2-statistics-in-modern-biology.html"><a href="1.2-statistics-in-modern-biology.html"><i class="fa fa-check"></i><b>1.2</b> Statistics in modern biology</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="1.2-statistics-in-modern-biology.html"><a href="1.2-statistics-in-modern-biology.html#the-scientific-method"><i class="fa fa-check"></i><b>1.2.1</b> The scientific method</a></li>
<li class="chapter" data-level="1.2.2" data-path="1.2-statistics-in-modern-biology.html"><a href="1.2-statistics-in-modern-biology.html#example-data-analysis"><i class="fa fa-check"></i><b>1.2.2</b> Example data analysis</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="1.3-misuses-of-statistics.html"><a href="1.3-misuses-of-statistics.html"><i class="fa fa-check"></i><b>1.3</b> Misuses of statistics</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="1.3-misuses-of-statistics.html"><a href="1.3-misuses-of-statistics.html#proving-the-trivial-and-meaningless-hypotheses"><i class="fa fa-check"></i><b>1.3.1</b> “Proving” the trivial and meaningless hypotheses</a></li>
<li class="chapter" data-level="1.3.2" data-path="1.3-misuses-of-statistics.html"><a href="1.3-misuses-of-statistics.html#inappropriate-methods"><i class="fa fa-check"></i><b>1.3.2</b> Inappropriate methods</a></li>
<li class="chapter" data-level="1.3.3" data-path="1.3-misuses-of-statistics.html"><a href="1.3-misuses-of-statistics.html#p-hacking-and-data-dredging"><i class="fa fa-check"></i><b>1.3.3</b> <em>P</em>-hacking and data dredging</a></li>
<li class="chapter" data-level="1.3.4" data-path="1.3-misuses-of-statistics.html"><a href="1.3-misuses-of-statistics.html#inadequate-sample-sizes-and-pseudoreplication"><i class="fa fa-check"></i><b>1.3.4</b> Inadequate sample sizes and pseudoreplication</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="1.4-p-values-and-null-hypothesis-significance-testing-nhst.html"><a href="1.4-p-values-and-null-hypothesis-significance-testing-nhst.html"><i class="fa fa-check"></i><b>1.4</b> <em>P</em>-values and null hypothesis significance testing (NHST)</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="1.4-p-values-and-null-hypothesis-significance-testing-nhst.html"><a href="1.4-p-values-and-null-hypothesis-significance-testing-nhst.html#definition"><i class="fa fa-check"></i><b>1.4.1</b> Definition</a></li>
<li class="chapter" data-level="1.4.2" data-path="1.4-p-values-and-null-hypothesis-significance-testing-nhst.html"><a href="1.4-p-values-and-null-hypothesis-significance-testing-nhst.html#history-and-status-of-p-values"><i class="fa fa-check"></i><b>1.4.2</b> History and status of <em>P</em>-values</a></li>
<li class="chapter" data-level="1.4.3" data-path="1.4-p-values-and-null-hypothesis-significance-testing-nhst.html"><a href="1.4-p-values-and-null-hypothesis-significance-testing-nhst.html#where-p-values-come-from"><i class="fa fa-check"></i><b>1.4.3</b> Where <em>P</em>-values come from</a></li>
<li class="chapter" data-level="1.4.4" data-path="1.4-p-values-and-null-hypothesis-significance-testing-nhst.html"><a href="1.4-p-values-and-null-hypothesis-significance-testing-nhst.html#what-p-values-mean-and-do-not-mean"><i class="fa fa-check"></i><b>1.4.4</b> What <em>P</em>-values mean and do not mean</a></li>
<li class="chapter" data-level="1.4.5" data-path="1.4-p-values-and-null-hypothesis-significance-testing-nhst.html"><a href="1.4-p-values-and-null-hypothesis-significance-testing-nhst.html#do-you-need-a-p-value"><i class="fa fa-check"></i><b>1.4.5</b> Do you need a <em>P</em>-value?</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="1.5-alternatives-to-nhst.html"><a href="1.5-alternatives-to-nhst.html"><i class="fa fa-check"></i><b>1.5</b> Alternatives to NHST</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="1.5-alternatives-to-nhst.html"><a href="1.5-alternatives-to-nhst.html#bayesian-inference"><i class="fa fa-check"></i><b>1.5.1</b> Bayesian inference</a></li>
<li class="chapter" data-level="1.5.2" data-path="1.5-alternatives-to-nhst.html"><a href="1.5-alternatives-to-nhst.html#information-theoretic-methods"><i class="fa fa-check"></i><b>1.5.2</b> Information-theoretic methods</a></li>
<li class="chapter" data-level="1.5.3" data-path="1.5-alternatives-to-nhst.html"><a href="1.5-alternatives-to-nhst.html#machine-learning"><i class="fa fa-check"></i><b>1.5.3</b> Machine learning</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="2-mod-02.html"><a href="2-mod-02.html"><i class="fa fa-check"></i><b>2</b> Introduction to R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="2.1-getting-started-with-r.html"><a href="2.1-getting-started-with-r.html"><i class="fa fa-check"></i><b>2.1</b> Getting started with R</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="2.1-getting-started-with-r.html"><a href="2.1-getting-started-with-r.html#what-is-r"><i class="fa fa-check"></i><b>2.1.1</b> What is R?</a></li>
<li class="chapter" data-level="2.1.2" data-path="2.1-getting-started-with-r.html"><a href="2.1-getting-started-with-r.html#advantages-of-r"><i class="fa fa-check"></i><b>2.1.2</b> Advantages of R</a></li>
<li class="chapter" data-level="2.1.3" data-path="2.1-getting-started-with-r.html"><a href="2.1-getting-started-with-r.html#disadvantages-of-r"><i class="fa fa-check"></i><b>2.1.3</b> Disadvantages of R</a></li>
<li class="chapter" data-level="2.1.4" data-path="2.1-getting-started-with-r.html"><a href="2.1-getting-started-with-r.html#base-r-and-vs.-tidyverse"><i class="fa fa-check"></i><b>2.1.4</b> Base R and (vs.?) <code>tidyverse</code></a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="2.2-download-and-install-r-and-rstudio.html"><a href="2.2-download-and-install-r-and-rstudio.html"><i class="fa fa-check"></i><b>2.2</b> Download and install R (and RStudio)</a></li>
<li class="chapter" data-level="2.3" data-path="2.3-using-r.html"><a href="2.3-using-r.html"><i class="fa fa-check"></i><b>2.3</b> Using R</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="2.3-using-r.html"><a href="2.3-using-r.html#using-the-base-r-gui"><i class="fa fa-check"></i><b>2.3.1</b> Using the base R GUI</a></li>
<li class="chapter" data-level="2.3.2" data-path="2.3-using-r.html"><a href="2.3-using-r.html#using-r-in-rstudio"><i class="fa fa-check"></i><b>2.3.2</b> Using R in RStudio</a></li>
<li class="chapter" data-level="2.3.3" data-path="2.3-using-r.html"><a href="2.3-using-r.html#using-r-with-other-programs"><i class="fa fa-check"></i><b>2.3.3</b> Using R with other programs</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="2.4-mod-02-first.html"><a href="2.4-mod-02-first.html"><i class="fa fa-check"></i><b>2.4</b> A first R session</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="2.4-mod-02-first.html"><a href="2.4-mod-02-first.html#import-data"><i class="fa fa-check"></i><b>2.4.1</b> Import data</a></li>
<li class="chapter" data-level="2.4.2" data-path="2.4-mod-02-first.html"><a href="2.4-mod-02-first.html#explore-and-visualize-data"><i class="fa fa-check"></i><b>2.4.2</b> Explore and visualize data</a></li>
<li class="chapter" data-level="2.4.3" data-path="2.4-mod-02-first.html"><a href="2.4-mod-02-first.html#transform-data"><i class="fa fa-check"></i><b>2.4.3</b> Transform data</a></li>
<li class="chapter" data-level="2.4.4" data-path="2.4-mod-02-first.html"><a href="2.4-mod-02-first.html#analyze-data"><i class="fa fa-check"></i><b>2.4.4</b> Analyze data</a></li>
<li class="chapter" data-level="2.4.5" data-path="2.4-mod-02-first.html"><a href="2.4-mod-02-first.html#write-out-results"><i class="fa fa-check"></i><b>2.4.5</b> Write out results</a></li>
<li class="chapter" data-level="2.4.6" data-path="2.4-mod-02-first.html"><a href="2.4-mod-02-first.html#save-your-work"><i class="fa fa-check"></i><b>2.4.6</b> Save your work?</a></li>
<li class="chapter" data-level="2.4.7" data-path="2.4-mod-02-first.html"><a href="2.4-mod-02-first.html#whats-next"><i class="fa fa-check"></i><b>2.4.7</b> What’s next?</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="2.5-write-and-execute-commands-in-the-r-console.html"><a href="2.5-write-and-execute-commands-in-the-r-console.html"><i class="fa fa-check"></i><b>2.5</b> Write and execute commands in the R console</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="2.5-write-and-execute-commands-in-the-r-console.html"><a href="2.5-write-and-execute-commands-in-the-r-console.html#r-commandsbasics"><i class="fa fa-check"></i><b>2.5.1</b> R commands–basics</a></li>
<li class="chapter" data-level="2.5.2" data-path="2.5-write-and-execute-commands-in-the-r-console.html"><a href="2.5-write-and-execute-commands-in-the-r-console.html#elements-of-r-code"><i class="fa fa-check"></i><b>2.5.2</b> Elements of R code</a></li>
<li class="chapter" data-level="2.5.3" data-path="2.5-write-and-execute-commands-in-the-r-console.html"><a href="2.5-write-and-execute-commands-in-the-r-console.html#the-r-workspace"><i class="fa fa-check"></i><b>2.5.3</b> The R workspace</a></li>
<li class="chapter" data-level="2.5.4" data-path="2.5-write-and-execute-commands-in-the-r-console.html"><a href="2.5-write-and-execute-commands-in-the-r-console.html#r-code-basics-assignment-and-operators"><i class="fa fa-check"></i><b>2.5.4</b> R code basics: assignment and operators</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="2.6-mod-02-struct.html"><a href="2.6-mod-02-struct.html"><i class="fa fa-check"></i><b>2.6</b> Basic R data structures</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="2.6-mod-02-struct.html"><a href="2.6-mod-02-struct.html#vectors"><i class="fa fa-check"></i><b>2.6.1</b> Vectors</a></li>
<li class="chapter" data-level="2.6.2" data-path="2.6-mod-02-struct.html"><a href="2.6-mod-02-struct.html#data-frames"><i class="fa fa-check"></i><b>2.6.2</b> Data frames</a></li>
<li class="chapter" data-level="2.6.3" data-path="2.6-mod-02-struct.html"><a href="2.6-mod-02-struct.html#matrices-and-arrays"><i class="fa fa-check"></i><b>2.6.3</b> Matrices and arrays</a></li>
<li class="chapter" data-level="2.6.4" data-path="2.6-mod-02-struct.html"><a href="2.6-mod-02-struct.html#lists"><i class="fa fa-check"></i><b>2.6.4</b> Lists</a></li>
<li class="chapter" data-level="2.6.5" data-path="2.6-mod-02-struct.html"><a href="2.6-mod-02-struct.html#s4-objects"><i class="fa fa-check"></i><b>2.6.5</b> S4 objects</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="2.7-r-data-types.html"><a href="2.7-r-data-types.html"><i class="fa fa-check"></i><b>2.7</b> R data types</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="2.7-r-data-types.html"><a href="2.7-r-data-types.html#character-type"><i class="fa fa-check"></i><b>2.7.1</b> Character type</a></li>
<li class="chapter" data-level="2.7.2" data-path="2.7-r-data-types.html"><a href="2.7-r-data-types.html#numeric-type"><i class="fa fa-check"></i><b>2.7.2</b> Numeric type</a></li>
<li class="chapter" data-level="2.7.3" data-path="2.7-r-data-types.html"><a href="2.7-r-data-types.html#integer-type"><i class="fa fa-check"></i><b>2.7.3</b> Integer type</a></li>
<li class="chapter" data-level="2.7.4" data-path="2.7-r-data-types.html"><a href="2.7-r-data-types.html#logical-type"><i class="fa fa-check"></i><b>2.7.4</b> Logical type</a></li>
<li class="chapter" data-level="2.7.5" data-path="2.7-r-data-types.html"><a href="2.7-r-data-types.html#special-values"><i class="fa fa-check"></i><b>2.7.5</b> Special values</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="2.8-manage-r-code-as-scripts-.r-files.html"><a href="2.8-manage-r-code-as-scripts-.r-files.html"><i class="fa fa-check"></i><b>2.8</b> Manage R code as scripts (.r files)</a></li>
<li class="chapter" data-level="2.9" data-path="2.9-manage-and-use-r-packages.html"><a href="2.9-manage-and-use-r-packages.html"><i class="fa fa-check"></i><b>2.9</b> Manage and use R packages</a>
<ul>
<li class="chapter" data-level="2.9.1" data-path="2.9-manage-and-use-r-packages.html"><a href="2.9-manage-and-use-r-packages.html#your-r-library"><i class="fa fa-check"></i><b>2.9.1</b> Your R library</a></li>
<li class="chapter" data-level="2.9.2" data-path="2.9-manage-and-use-r-packages.html"><a href="2.9-manage-and-use-r-packages.html#installing-packages-using-the-r-gui"><i class="fa fa-check"></i><b>2.9.2</b> Installing packages using the R GUI</a></li>
<li class="chapter" data-level="2.9.3" data-path="2.9-manage-and-use-r-packages.html"><a href="2.9-manage-and-use-r-packages.html#installing-packages-in-rstudio"><i class="fa fa-check"></i><b>2.9.3</b> Installing packages in RStudio</a></li>
<li class="chapter" data-level="2.9.4" data-path="2.9-manage-and-use-r-packages.html"><a href="2.9-manage-and-use-r-packages.html#installing-packages-using-the-r-console"><i class="fa fa-check"></i><b>2.9.4</b> Installing packages using the R console</a></li>
<li class="chapter" data-level="2.9.5" data-path="2.9-manage-and-use-r-packages.html"><a href="2.9-manage-and-use-r-packages.html#working-with-packages-in-r"><i class="fa fa-check"></i><b>2.9.5</b> Working with packages in R</a></li>
<li class="chapter" data-level="2.9.6" data-path="2.9-manage-and-use-r-packages.html"><a href="2.9-manage-and-use-r-packages.html#package-dependencies"><i class="fa fa-check"></i><b>2.9.6</b> Package dependencies</a></li>
<li class="chapter" data-level="2.9.7" data-path="2.9-manage-and-use-r-packages.html"><a href="2.9-manage-and-use-r-packages.html#citing-packages"><i class="fa fa-check"></i><b>2.9.7</b> Citing packages</a></li>
</ul></li>
<li class="chapter" data-level="2.10" data-path="2.10-r-documentation.html"><a href="2.10-r-documentation.html"><i class="fa fa-check"></i><b>2.10</b> R documentation</a>
<ul>
<li class="chapter" data-level="2.10.1" data-path="2.10-r-documentation.html"><a href="2.10-r-documentation.html#documentation-help-files"><i class="fa fa-check"></i><b>2.10.1</b> Documentation (help) files</a></li>
<li class="chapter" data-level="2.10.2" data-path="2.10-r-documentation.html"><a href="2.10-r-documentation.html#r-vignettes"><i class="fa fa-check"></i><b>2.10.2</b> R vignettes</a></li>
<li class="chapter" data-level="2.10.3" data-path="2.10-r-documentation.html"><a href="2.10-r-documentation.html#official-r-project-resources"><i class="fa fa-check"></i><b>2.10.3</b> Official R Project resources</a></li>
<li class="chapter" data-level="2.10.4" data-path="2.10-r-documentation.html"><a href="2.10-r-documentation.html#unofficial-online-resources"><i class="fa fa-check"></i><b>2.10.4</b> Unofficial online resources</a></li>
<li class="chapter" data-level="2.10.5" data-path="2.10-r-documentation.html"><a href="2.10-r-documentation.html#r-books"><i class="fa fa-check"></i><b>2.10.5</b> R books</a></li>
<li class="chapter" data-level="2.10.6" data-path="2.10-r-documentation.html"><a href="2.10-r-documentation.html#two-reminders"><i class="fa fa-check"></i><b>2.10.6</b> Two reminders</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="3-mod-03.html"><a href="3-mod-03.html"><i class="fa fa-check"></i><b>3</b> Data manipulation with R</a>
<ul>
<li class="chapter" data-level="3.1" data-path="3.1-mod-03-inout.html"><a href="3.1-mod-03-inout.html"><i class="fa fa-check"></i><b>3.1</b> Data import and export</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="3.1-mod-03-inout.html"><a href="3.1-mod-03-inout.html#importing-data-preliminaries"><i class="fa fa-check"></i><b>3.1.1</b> Importing data: preliminaries</a></li>
<li class="chapter" data-level="3.1.2" data-path="3.1-mod-03-inout.html"><a href="3.1-mod-03-inout.html#importing-data-from-text-files-with-read.csv-and-read.table"><i class="fa fa-check"></i><b>3.1.2</b> Importing data from text files with <code>read.csv()</code> and <code>read.table()</code></a></li>
<li class="chapter" data-level="3.1.3" data-path="3.1-mod-03-inout.html"><a href="3.1-mod-03-inout.html#importing-data-from-saved-workspaces"><i class="fa fa-check"></i><b>3.1.3</b> Importing data from saved workspaces</a></li>
<li class="chapter" data-level="3.1.4" data-path="3.1-mod-03-inout.html"><a href="3.1-mod-03-inout.html#importing-data-special-cases"><i class="fa fa-check"></i><b>3.1.4</b> Importing data: special cases:</a></li>
<li class="chapter" data-level="3.1.5" data-path="3.1-mod-03-inout.html"><a href="3.1-mod-03-inout.html#export-data-from-r"><i class="fa fa-check"></i><b>3.1.5</b> Export data from R</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="3.2-making-values-in-r.html"><a href="3.2-making-values-in-r.html"><i class="fa fa-check"></i><b>3.2</b> Making values in R</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="3.2-making-values-in-r.html"><a href="3.2-making-values-in-r.html#producing-arbitrary-values-with-c"><i class="fa fa-check"></i><b>3.2.1</b> Producing arbitrary values with <code>c()</code></a></li>
<li class="chapter" data-level="3.2.2" data-path="3.2-making-values-in-r.html"><a href="3.2-making-values-in-r.html#generating-regular-values"><i class="fa fa-check"></i><b>3.2.2</b> Generating regular values</a></li>
<li class="chapter" data-level="3.2.3" data-path="3.2-making-values-in-r.html"><a href="3.2-making-values-in-r.html#generating-random-values"><i class="fa fa-check"></i><b>3.2.3</b> Generating random values</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="3.3-selecting-data-with.html"><a href="3.3-selecting-data-with.html"><i class="fa fa-check"></i><b>3.3</b> Selecting data with <code>[]</code></a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="3.3-selecting-data-with.html"><a href="3.3-selecting-data-with.html#mod-03-brackets"><i class="fa fa-check"></i><b>3.3.1</b> Basics of brackets</a></li>
<li class="chapter" data-level="3.3.2" data-path="3.3-selecting-data-with.html"><a href="3.3-selecting-data-with.html#extracting-and-selecting-data-with-logical-tests"><i class="fa fa-check"></i><b>3.3.2</b> Extracting and selecting data with logical tests</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="3.4-managing-dates-and-characters.html"><a href="3.4-managing-dates-and-characters.html"><i class="fa fa-check"></i><b>3.4</b> Managing dates and characters</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="3.4-managing-dates-and-characters.html"><a href="3.4-managing-dates-and-characters.html#temporal-data-and-dates"><i class="fa fa-check"></i><b>3.4.1</b> Temporal data and dates</a></li>
<li class="chapter" data-level="3.4.2" data-path="3.4-managing-dates-and-characters.html"><a href="3.4-managing-dates-and-characters.html#character-data-text"><i class="fa fa-check"></i><b>3.4.2</b> Character data (text)</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="3.5-mod-03-dataframe.html"><a href="3.5-mod-03-dataframe.html"><i class="fa fa-check"></i><b>3.5</b> Data frame management</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="3.5-mod-03-dataframe.html"><a href="3.5-mod-03-dataframe.html#data-frame-structure"><i class="fa fa-check"></i><b>3.5.1</b> Data frame structure</a></li>
<li class="chapter" data-level="3.5.2" data-path="3.5-mod-03-dataframe.html"><a href="3.5-mod-03-dataframe.html#common-data-frame-operations"><i class="fa fa-check"></i><b>3.5.2</b> Common data frame operations</a></li>
<li class="chapter" data-level="3.5.3" data-path="3.5-mod-03-dataframe.html"><a href="3.5-mod-03-dataframe.html#other-data-frame-operations"><i class="fa fa-check"></i><b>3.5.3</b> Other data frame operations</a></li>
<li class="chapter" data-level="3.5.4" data-path="3.5-mod-03-dataframe.html"><a href="3.5-mod-03-dataframe.html#mod-03-reshape"><i class="fa fa-check"></i><b>3.5.4</b> Reshaping data frames</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="4-mod-04.html"><a href="4-mod-04.html"><i class="fa fa-check"></i><b>4</b> Exploratory data analysis</a>
<ul>
<li class="chapter" data-level="4.1" data-path="4.1-descriptive-and-summary-statistics.html"><a href="4.1-descriptive-and-summary-statistics.html"><i class="fa fa-check"></i><b>4.1</b> Descriptive and summary statistics</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="4.1-descriptive-and-summary-statistics.html"><a href="4.1-descriptive-and-summary-statistics.html#basic-summary-statistics"><i class="fa fa-check"></i><b>4.1.1</b> Basic summary statistics</a></li>
<li class="chapter" data-level="4.1.2" data-path="4.1-descriptive-and-summary-statistics.html"><a href="4.1-descriptive-and-summary-statistics.html#summarizing-data-with-the-apply-family"><i class="fa fa-check"></i><b>4.1.2</b> Summarizing data with the <code>apply()</code> family</a></li>
<li class="chapter" data-level="4.1.3" data-path="4.1-descriptive-and-summary-statistics.html"><a href="4.1-descriptive-and-summary-statistics.html#mod-04-tabagg"><i class="fa fa-check"></i><b>4.1.3</b> Tabulation and aggregation</a></li>
<li class="chapter" data-level="4.1.4" data-path="4.1-descriptive-and-summary-statistics.html"><a href="4.1-descriptive-and-summary-statistics.html#aggregation-aka-pivot-tables"><i class="fa fa-check"></i><b>4.1.4</b> Aggregation (aka: pivot tables)</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="4.2-mod-04-vis.html"><a href="4.2-mod-04-vis.html"><i class="fa fa-check"></i><b>4.2</b> Visualizing data distributions</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="4.2-mod-04-vis.html"><a href="4.2-mod-04-vis.html#boxplots-aka-box-and-whisker-plots"><i class="fa fa-check"></i><b>4.2.1</b> Boxplots (aka: box-and-whisker plots)</a></li>
<li class="chapter" data-level="4.2.2" data-path="4.2-mod-04-vis.html"><a href="4.2-mod-04-vis.html#histograms"><i class="fa fa-check"></i><b>4.2.2</b> Histograms</a></li>
<li class="chapter" data-level="4.2.3" data-path="4.2-mod-04-vis.html"><a href="4.2-mod-04-vis.html#kernel-density-plots"><i class="fa fa-check"></i><b>4.2.3</b> Kernel density plots</a></li>
<li class="chapter" data-level="4.2.4" data-path="4.2-mod-04-vis.html"><a href="4.2-mod-04-vis.html#empirical-cumulative-distribution-plots-ecdf"><i class="fa fa-check"></i><b>4.2.4</b> Empirical cumulative distribution plots (ECDF)</a></li>
<li class="chapter" data-level="4.2.5" data-path="4.2-mod-04-vis.html"><a href="4.2-mod-04-vis.html#quantile-quantile-qq-plots"><i class="fa fa-check"></i><b>4.2.5</b> Quantile-quantile (QQ) plots</a></li>
<li class="chapter" data-level="4.2.6" data-path="4.2-mod-04-vis.html"><a href="4.2-mod-04-vis.html#how-should-i-plot-my-data"><i class="fa fa-check"></i><b>4.2.6</b> How should I plot my data?</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="4.3-mod-04-dists1.html"><a href="4.3-mod-04-dists1.html"><i class="fa fa-check"></i><b>4.3</b> Statistical distributions</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="4.3-mod-04-dists1.html"><a href="4.3-mod-04-dists1.html#probability-distributions"><i class="fa fa-check"></i><b>4.3.1</b> Probability distributions</a></li>
<li class="chapter" data-level="4.3.2" data-path="4.3-mod-04-dists1.html"><a href="4.3-mod-04-dists1.html#probability-distributions-in-r"><i class="fa fa-check"></i><b>4.3.2</b> Probability distributions in R</a></li>
<li class="chapter" data-level="4.3.3" data-path="4.3-mod-04-dists1.html"><a href="4.3-mod-04-dists1.html#discrete-distributions"><i class="fa fa-check"></i><b>4.3.3</b> Discrete distributions</a></li>
<li class="chapter" data-level="4.3.4" data-path="4.3-mod-04-dists1.html"><a href="4.3-mod-04-dists1.html#continuous-distributions"><i class="fa fa-check"></i><b>4.3.4</b> Continuous distributions</a></li>
<li class="chapter" data-level="4.3.5" data-path="4.3-mod-04-dists1.html"><a href="4.3-mod-04-dists1.html#distributions-summary"><i class="fa fa-check"></i><b>4.3.5</b> Distributions summary</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="4.4-mod-04-dists2.html"><a href="4.4-mod-04-dists2.html"><i class="fa fa-check"></i><b>4.4</b> Fitting and testing distributions</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="4.4-mod-04-dists2.html"><a href="4.4-mod-04-dists2.html#estimating-distributional-parameters"><i class="fa fa-check"></i><b>4.4.1</b> Estimating distributional parameters</a></li>
<li class="chapter" data-level="4.4.2" data-path="4.4-mod-04-dists2.html"><a href="4.4-mod-04-dists2.html#graphical-methods-for-examining-distributions"><i class="fa fa-check"></i><b>4.4.2</b> Graphical methods for examining distributions</a></li>
<li class="chapter" data-level="4.4.3" data-path="4.4-mod-04-dists2.html"><a href="4.4-mod-04-dists2.html#formal-tests-for-distributions"><i class="fa fa-check"></i><b>4.4.3</b> Formal tests for distributions</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="4.5-mod-04-trans.html"><a href="4.5-mod-04-trans.html"><i class="fa fa-check"></i><b>4.5</b> Data transformations</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="4.5-mod-04-trans.html"><a href="4.5-mod-04-trans.html#why-transform"><i class="fa fa-check"></i><b>4.5.1</b> Why transform?</a></li>
<li class="chapter" data-level="4.5.2" data-path="4.5-mod-04-trans.html"><a href="4.5-mod-04-trans.html#transforms-vs.-link-functions"><i class="fa fa-check"></i><b>4.5.2</b> Transforms vs. link functions</a></li>
<li class="chapter" data-level="4.5.3" data-path="4.5-mod-04-trans.html"><a href="4.5-mod-04-trans.html#log-transformation"><i class="fa fa-check"></i><b>4.5.3</b> Log transformation</a></li>
<li class="chapter" data-level="4.5.4" data-path="4.5-mod-04-trans.html"><a href="4.5-mod-04-trans.html#rank-transformation"><i class="fa fa-check"></i><b>4.5.4</b> Rank transformation</a></li>
<li class="chapter" data-level="4.5.5" data-path="4.5-mod-04-trans.html"><a href="4.5-mod-04-trans.html#other-transforms-less-common"><i class="fa fa-check"></i><b>4.5.5</b> Other transforms (less common)</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="4.6-multivariate-data-exploration.html"><a href="4.6-multivariate-data-exploration.html"><i class="fa fa-check"></i><b>4.6</b> Multivariate data exploration</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="4.6-multivariate-data-exploration.html"><a href="4.6-multivariate-data-exploration.html#scatterplots-for-two-variables"><i class="fa fa-check"></i><b>4.6.1</b> Scatterplots for two variables</a></li>
<li class="chapter" data-level="4.6.2" data-path="4.6-multivariate-data-exploration.html"><a href="4.6-multivariate-data-exploration.html#mod-04-smat"><i class="fa fa-check"></i><b>4.6.2</b> Scatterplot matrices for many variables</a></li>
<li class="chapter" data-level="4.6.3" data-path="4.6-multivariate-data-exploration.html"><a href="4.6-multivariate-data-exploration.html#lattice-plots-for-hierarchical-data"><i class="fa fa-check"></i><b>4.6.3</b> Lattice plots for hierarchical data</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="4.7-ordination-brief-introduction.html"><a href="4.7-ordination-brief-introduction.html"><i class="fa fa-check"></i><b>4.7</b> Ordination (brief introduction)</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="4.7-ordination-brief-introduction.html"><a href="4.7-ordination-brief-introduction.html#principal-components-analysis-pca"><i class="fa fa-check"></i><b>4.7.1</b> Principal components analysis (PCA)</a></li>
<li class="chapter" data-level="4.7.2" data-path="4.7-ordination-brief-introduction.html"><a href="4.7-ordination-brief-introduction.html#nonmetric-multidimensional-scaling-nmds"><i class="fa fa-check"></i><b>4.7.2</b> Nonmetric multidimensional scaling (NMDS)</a></li>
<li class="chapter" data-level="4.7.3" data-path="4.7-ordination-brief-introduction.html"><a href="4.7-ordination-brief-introduction.html#plotting-ordinations"><i class="fa fa-check"></i><b>4.7.3</b> Plotting ordinations</a></li>
<li class="chapter" data-level="4.7.4" data-path="4.7-ordination-brief-introduction.html"><a href="4.7-ordination-brief-introduction.html#ordination-wrap-up-for-now"><i class="fa fa-check"></i><b>4.7.4</b> Ordination wrap-up (for now)</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="4.8-mod-04-prob.html"><a href="4.8-mod-04-prob.html"><i class="fa fa-check"></i><b>4.8</b> Common statistical problems</a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="4.8-mod-04-prob.html"><a href="4.8-mod-04-prob.html#outliers-and-erroneous-values"><i class="fa fa-check"></i><b>4.8.1</b> Outliers and erroneous values</a></li>
<li class="chapter" data-level="4.8.2" data-path="4.8-mod-04-prob.html"><a href="4.8-mod-04-prob.html#autocorrelation"><i class="fa fa-check"></i><b>4.8.2</b> Autocorrelation</a></li>
<li class="chapter" data-level="4.8.3" data-path="4.8-mod-04-prob.html"><a href="4.8-mod-04-prob.html#mod-04-multicol"><i class="fa fa-check"></i><b>4.8.3</b> Collinearity</a></li>
<li class="chapter" data-level="4.8.4" data-path="4.8-mod-04-prob.html"><a href="4.8-mod-04-prob.html#missing-data"><i class="fa fa-check"></i><b>4.8.4</b> Missing data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="5-mod-05.html"><a href="5-mod-05.html"><i class="fa fa-check"></i><b>5</b> Generalized linear models (GLM)</a>
<ul>
<li class="chapter" data-level="5.1" data-path="5.1-mod-05-lm.html"><a href="5.1-mod-05-lm.html"><i class="fa fa-check"></i><b>5.1</b> Prelude with linear models</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="5.1-mod-05-lm.html"><a href="5.1-mod-05-lm.html#assumptions-of-linear-models"><i class="fa fa-check"></i><b>5.1.1</b> Assumptions of linear models</a></li>
<li class="chapter" data-level="5.1.2" data-path="5.1-mod-05-lm.html"><a href="5.1-mod-05-lm.html#linear-regression-in-r"><i class="fa fa-check"></i><b>5.1.2</b> Linear regression in R</a></li>
<li class="chapter" data-level="5.1.3" data-path="5.1-mod-05-lm.html"><a href="5.1-mod-05-lm.html#multiple-linear-regression"><i class="fa fa-check"></i><b>5.1.3</b> Multiple linear regression</a></li>
<li class="chapter" data-level="5.1.4" data-path="5.1-mod-05-lm.html"><a href="5.1-mod-05-lm.html#mod-05-anova"><i class="fa fa-check"></i><b>5.1.4</b> ANOVA and ANCOVA with <code>lm()</code></a></li>
<li class="chapter" data-level="5.1.5" data-path="5.1-mod-05-lm.html"><a href="5.1-mod-05-lm.html#variations-on-linear-models"><i class="fa fa-check"></i><b>5.1.5</b> Variations on linear models</a></li>
<li class="chapter" data-level="5.1.6" data-path="5.1-mod-05-lm.html"><a href="5.1-mod-05-lm.html#example-linear-regression-workflow"><i class="fa fa-check"></i><b>5.1.6</b> Example linear regression workflow</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="5.2-mod-05-basic.html"><a href="5.2-mod-05-basic.html"><i class="fa fa-check"></i><b>5.2</b> GLM basics</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="5.2-mod-05-basic.html"><a href="5.2-mod-05-basic.html#example-glms"><i class="fa fa-check"></i><b>5.2.1</b> Example GLMS</a></li>
<li class="chapter" data-level="5.2.2" data-path="5.2-mod-05-basic.html"><a href="5.2-mod-05-basic.html#glm-families"><i class="fa fa-check"></i><b>5.2.2</b> GLM families</a></li>
<li class="chapter" data-level="5.2.3" data-path="5.2-mod-05-basic.html"><a href="5.2-mod-05-basic.html#glm-link-functions"><i class="fa fa-check"></i><b>5.2.3</b> GLM link functions</a></li>
<li class="chapter" data-level="5.2.4" data-path="5.2-mod-05-basic.html"><a href="5.2-mod-05-basic.html#deviance-and-other-glm-diagnostics"><i class="fa fa-check"></i><b>5.2.4</b> Deviance and other GLM diagnostics</a></li>
<li class="chapter" data-level="5.2.5" data-path="5.2-mod-05-basic.html"><a href="5.2-mod-05-basic.html#to-pseudo-r2-or-not-to-pseudo-r2"><i class="fa fa-check"></i><b>5.2.5</b> To pseudo-<em>R</em><sup>2</sup> or not to pseudo-<em>R</em><sup>2</sup>?</a></li>
<li class="chapter" data-level="5.2.6" data-path="5.2-mod-05-basic.html"><a href="5.2-mod-05-basic.html#common-glms"><i class="fa fa-check"></i><b>5.2.6</b> Common GLMs</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="5.3-mod-05-loglin.html"><a href="5.3-mod-05-loglin.html"><i class="fa fa-check"></i><b>5.3</b> Log-linear models</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="5.3-mod-05-loglin.html"><a href="5.3-mod-05-loglin.html#mod-05-loglin-examp"><i class="fa fa-check"></i><b>5.3.1</b> Example with simulated data</a></li>
<li class="chapter" data-level="5.3.2" data-path="5.3-mod-05-loglin.html"><a href="5.3-mod-05-loglin.html#example-with-real-data"><i class="fa fa-check"></i><b>5.3.2</b> Example with real data</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="5.4-mod-05-poisson.html"><a href="5.4-mod-05-poisson.html"><i class="fa fa-check"></i><b>5.4</b> Poisson GLM for counts</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="5.4-mod-05-poisson.html"><a href="5.4-mod-05-poisson.html#example-with-simulated-data"><i class="fa fa-check"></i><b>5.4.1</b> Example with simulated data</a></li>
<li class="chapter" data-level="5.4.2" data-path="5.4-mod-05-poisson.html"><a href="5.4-mod-05-poisson.html#example-with-real-data-1"><i class="fa fa-check"></i><b>5.4.2</b> Example with real data</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="5.5-mod-05-quasi.html"><a href="5.5-mod-05-quasi.html"><i class="fa fa-check"></i><b>5.5</b> Quasi-Poisson and negative binomial GLM</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="5.5-mod-05-quasi.html"><a href="5.5-mod-05-quasi.html#example-with-simulated-data-1"><i class="fa fa-check"></i><b>5.5.1</b> Example with simulated data</a></li>
<li class="chapter" data-level="5.5.2" data-path="5.5-mod-05-quasi.html"><a href="5.5-mod-05-quasi.html#example-with-real-data-2"><i class="fa fa-check"></i><b>5.5.2</b> Example with real data</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="5.6-mod-05-logistic.html"><a href="5.6-mod-05-logistic.html"><i class="fa fa-check"></i><b>5.6</b> Logistic regression for binary outcomes</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="5.6-mod-05-logistic.html"><a href="5.6-mod-05-logistic.html#example-with-simulated-data-2"><i class="fa fa-check"></i><b>5.6.1</b> Example with simulated data</a></li>
<li class="chapter" data-level="5.6.2" data-path="5.6-mod-05-logistic.html"><a href="5.6-mod-05-logistic.html#example-with-real-data-3"><i class="fa fa-check"></i><b>5.6.2</b> Example with real data</a></li>
<li class="chapter" data-level="5.6.3" data-path="5.6-mod-05-logistic.html"><a href="5.6-mod-05-logistic.html#mod-05-auc"><i class="fa fa-check"></i><b>5.6.3</b> Logistic GLM diagnostics: AUC and ROC</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="5.7-mod-05-binom.html"><a href="5.7-mod-05-binom.html"><i class="fa fa-check"></i><b>5.7</b> Binomial GLM for proportional data</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="5.7-mod-05-binom.html"><a href="5.7-mod-05-binom.html#binomial-glm"><i class="fa fa-check"></i><b>5.7.1</b> Binomial GLM</a></li>
<li class="chapter" data-level="5.7.2" data-path="5.7-mod-05-binom.html"><a href="5.7-mod-05-binom.html#example-with-simulated-data-3"><i class="fa fa-check"></i><b>5.7.2</b> Example with simulated data</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="5.8-mod-05-gamma.html"><a href="5.8-mod-05-gamma.html"><i class="fa fa-check"></i><b>5.8</b> Gamma models for overdispersed data</a>
<ul>
<li class="chapter" data-level="5.8.1" data-path="5.8-mod-05-gamma.html"><a href="5.8-mod-05-gamma.html#example-with-simulated-data-4"><i class="fa fa-check"></i><b>5.8.1</b> Example with simulated data</a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="5.9-mod-05-beyond.html"><a href="5.9-mod-05-beyond.html"><i class="fa fa-check"></i><b>5.9</b> Beyond GLM: Overview of GAM and GEE</a>
<ul>
<li class="chapter" data-level="5.9.1" data-path="5.9-mod-05-beyond.html"><a href="5.9-mod-05-beyond.html#mod-05-gam"><i class="fa fa-check"></i><b>5.9.1</b> Generalized additive models (GAM)</a></li>
<li class="chapter" data-level="5.9.2" data-path="5.9-mod-05-beyond.html"><a href="5.9-mod-05-beyond.html#mod-05-gee"><i class="fa fa-check"></i><b>5.9.2</b> Generalized estimating equations (GEE)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="6-mod-06.html"><a href="6-mod-06.html"><i class="fa fa-check"></i><b>6</b> Nonlinear models</a>
<ul>
<li class="chapter" data-level="6.1" data-path="6.1-background.html"><a href="6.1-background.html"><i class="fa fa-check"></i><b>6.1</b> Background</a></li>
<li class="chapter" data-level="6.2" data-path="6.2-mod-06-intro.html"><a href="6.2-mod-06-intro.html"><i class="fa fa-check"></i><b>6.2</b> Nonlinear least squares (NLS)</a></li>
<li class="chapter" data-level="6.3" data-path="6.3-mod-06-micmen.html"><a href="6.3-mod-06-micmen.html"><i class="fa fa-check"></i><b>6.3</b> Michaelis-Menten curves</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="6.3-mod-06-micmen.html"><a href="6.3-mod-06-micmen.html#mod-06-micmen-sim"><i class="fa fa-check"></i><b>6.3.1</b> Example with simulated data</a></li>
<li class="chapter" data-level="6.3.2" data-path="6.3-mod-06-micmen.html"><a href="6.3-mod-06-micmen.html#example-with-real-data-4"><i class="fa fa-check"></i><b>6.3.2</b> Example with real data</a></li>
<li class="chapter" data-level="6.3.3" data-path="6.3-mod-06-micmen.html"><a href="6.3-mod-06-micmen.html#alternative-strategies-for-the-analysis"><i class="fa fa-check"></i><b>6.3.3</b> Alternative strategies for the analysis</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="6.4-mod-06-grow.html"><a href="6.4-mod-06-grow.html"><i class="fa fa-check"></i><b>6.4</b> Biological growth curves</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="6.4-mod-06-grow.html"><a href="6.4-mod-06-grow.html#gompertz-and-von-bertalanffy-curves"><i class="fa fa-check"></i><b>6.4.1</b> Gompertz and von Bertalanffy curves</a></li>
<li class="chapter" data-level="6.4.2" data-path="6.4-mod-06-grow.html"><a href="6.4-mod-06-grow.html#example-with-real-data-5"><i class="fa fa-check"></i><b>6.4.2</b> Example with real data</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="6.5-dose-response-curves.html"><a href="6.5-dose-response-curves.html"><i class="fa fa-check"></i><b>6.5</b> Dose response curves</a></li>
<li class="chapter" data-level="6.6" data-path="6.6-alternatives-to-nls.html"><a href="6.6-alternatives-to-nls.html"><i class="fa fa-check"></i><b>6.6</b> Alternatives to NLS</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="6.6-alternatives-to-nls.html"><a href="6.6-alternatives-to-nls.html#generalized-nonlinear-models"><i class="fa fa-check"></i><b>6.6.1</b> Generalized nonlinear models</a></li>
<li class="chapter" data-level="6.6.2" data-path="6.6-alternatives-to-nls.html"><a href="6.6-alternatives-to-nls.html#quantile-regression"><i class="fa fa-check"></i><b>6.6.2</b> Quantile regression</a></li>
<li class="chapter" data-level="6.6.3" data-path="6.6-alternatives-to-nls.html"><a href="6.6-alternatives-to-nls.html#mod-06-gam"><i class="fa fa-check"></i><b>6.6.3</b> Generalized additive models (GAM)</a></li>
<li class="chapter" data-level="6.6.4" data-path="6.6-alternatives-to-nls.html"><a href="6.6-alternatives-to-nls.html#classification-and-regression-trees-cart"><i class="fa fa-check"></i><b>6.6.4</b> Classification and regression trees (CART)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="7-mod-07.html"><a href="7-mod-07.html"><i class="fa fa-check"></i><b>7</b> Mixed models</a>
<ul>
<li class="chapter" data-level="7.1" data-path="7.1-prelude-glm.html"><a href="7.1-prelude-glm.html"><i class="fa fa-check"></i><b>7.1</b> Prelude (GLM)</a></li>
<li class="chapter" data-level="7.2" data-path="7.2-mod-07-lmm.html"><a href="7.2-mod-07-lmm.html"><i class="fa fa-check"></i><b>7.2</b> Linear mixed models (LMM)</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="7.2-mod-07-lmm.html"><a href="7.2-mod-07-lmm.html#formal-definition-and-example"><i class="fa fa-check"></i><b>7.2.1</b> Formal definition and example</a></li>
<li class="chapter" data-level="7.2.2" data-path="7.2-mod-07-lmm.html"><a href="7.2-mod-07-lmm.html#example-with-simulated-data-5"><i class="fa fa-check"></i><b>7.2.2</b> Example with simulated data</a></li>
<li class="chapter" data-level="7.2.3" data-path="7.2-mod-07-lmm.html"><a href="7.2-mod-07-lmm.html#p-values-in-lmm"><i class="fa fa-check"></i><b>7.2.3</b> <em>P</em>-values in LMM</a></li>
<li class="chapter" data-level="7.2.4" data-path="7.2-mod-07-lmm.html"><a href="7.2-mod-07-lmm.html#specifying-random-effects"><i class="fa fa-check"></i><b>7.2.4</b> Specifying random effects</a></li>
<li class="chapter" data-level="7.2.5" data-path="7.2-mod-07-lmm.html"><a href="7.2-mod-07-lmm.html#lmm-example-with-real-data"><i class="fa fa-check"></i><b>7.2.5</b> LMM example with real data</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="7.3-mod-07-glmm.html"><a href="7.3-mod-07-glmm.html"><i class="fa fa-check"></i><b>7.3</b> Generalized linear mixed models (GLMM)</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="7.3-mod-07-glmm.html"><a href="7.3-mod-07-glmm.html#definition-1"><i class="fa fa-check"></i><b>7.3.1</b> Definition</a></li>
<li class="chapter" data-level="7.3.2" data-path="7.3-mod-07-glmm.html"><a href="7.3-mod-07-glmm.html#glmm-on-simulated-data"><i class="fa fa-check"></i><b>7.3.2</b> GLMM on simulated data</a></li>
<li class="chapter" data-level="7.3.3" data-path="7.3-mod-07-glmm.html"><a href="7.3-mod-07-glmm.html#glmm-on-real-data"><i class="fa fa-check"></i><b>7.3.3</b> GLMM on real data</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="7.4-mod-07-nlme.html"><a href="7.4-mod-07-nlme.html"><i class="fa fa-check"></i><b>7.4</b> Nonlinear mixed models (NLME)</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="7.4-mod-07-nlme.html"><a href="7.4-mod-07-nlme.html#definition-and-background"><i class="fa fa-check"></i><b>7.4.1</b> Definition and background</a></li>
<li class="chapter" data-level="7.4.2" data-path="7.4-mod-07-nlme.html"><a href="7.4-mod-07-nlme.html#nlme-on-simulated-data"><i class="fa fa-check"></i><b>7.4.2</b> NLME on simulated data</a></li>
<li class="chapter" data-level="7.4.3" data-path="7.4-mod-07-nlme.html"><a href="7.4-mod-07-nlme.html#nlme-on-real-data"><i class="fa fa-check"></i><b>7.4.3</b> NLME on real data</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="7.5-mod-07-gamm.html"><a href="7.5-mod-07-gamm.html"><i class="fa fa-check"></i><b>7.5</b> (Generalized) additive mixed models (AMM/GAMM)</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="7.5-mod-07-gamm.html"><a href="7.5-mod-07-gamm.html#example-gamm-with-real-data"><i class="fa fa-check"></i><b>7.5.1</b> Example GAMM with real data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="8-mod-08.html"><a href="8-mod-08.html"><i class="fa fa-check"></i><b>8</b> Multivariate data analysis</a>
<ul>
<li class="chapter" data-level="8.1" data-path="8.1-multivariate-data.html"><a href="8.1-multivariate-data.html"><i class="fa fa-check"></i><b>8.1</b> Multivariate data</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="8.1-multivariate-data.html"><a href="8.1-multivariate-data.html#univariate-vs.-multivariate-data"><i class="fa fa-check"></i><b>8.1.1</b> Univariate vs. multivariate data</a></li>
<li class="chapter" data-level="8.1.2" data-path="8.1-multivariate-data.html"><a href="8.1-multivariate-data.html#components-of-multivariate-data"><i class="fa fa-check"></i><b>8.1.2</b> Components of multivariate data</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="8.2-mod-08-dist.html"><a href="8.2-mod-08-dist.html"><i class="fa fa-check"></i><b>8.2</b> Distance metrics: biological (dis)similarity</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="8.2-mod-08-dist.html"><a href="8.2-mod-08-dist.html#euclidean-distance"><i class="fa fa-check"></i><b>8.2.1</b> Euclidean distance</a></li>
<li class="chapter" data-level="8.2.2" data-path="8.2-mod-08-dist.html"><a href="8.2-mod-08-dist.html#bray-curtis-and-other-distance-metrics"><i class="fa fa-check"></i><b>8.2.2</b> Bray-Curtis and other distance metrics</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="8.3-clustering.html"><a href="8.3-clustering.html"><i class="fa fa-check"></i><b>8.3</b> Clustering</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="8.3-clustering.html"><a href="8.3-clustering.html#k-means-clustering"><i class="fa fa-check"></i><b>8.3.1</b> <em>K</em>-means clustering</a></li>
<li class="chapter" data-level="8.3.2" data-path="8.3-clustering.html"><a href="8.3-clustering.html#hierarchical-agglomerative-clustering"><i class="fa fa-check"></i><b>8.3.2</b> Hierarchical agglomerative clustering</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="8.4-mod-08-sims.html"><a href="8.4-mod-08-sims.html"><i class="fa fa-check"></i><b>8.4</b> Analyzing dissimilarity</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="8.4-mod-08-sims.html"><a href="8.4-mod-08-sims.html#mantel-tests-distance-vs.-distance"><i class="fa fa-check"></i><b>8.4.1</b> Mantel tests: distance vs. distance</a></li>
<li class="chapter" data-level="8.4.2" data-path="8.4-mod-08-sims.html"><a href="8.4-mod-08-sims.html#comparing-dissimilarity-between-groups"><i class="fa fa-check"></i><b>8.4.2</b> Comparing dissimilarity between groups</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="8.5-mod-08-ord.html"><a href="8.5-mod-08-ord.html"><i class="fa fa-check"></i><b>8.5</b> Ordination</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="8.5-mod-08-ord.html"><a href="8.5-mod-08-ord.html#principal-components-analysis-pca-1"><i class="fa fa-check"></i><b>8.5.1</b> Principal components analysis (PCA)</a></li>
<li class="chapter" data-level="8.5.2" data-path="8.5-mod-08-ord.html"><a href="8.5-mod-08-ord.html#nmds-and-other-ordination-methods"><i class="fa fa-check"></i><b>8.5.2</b> NMDS and other ordination methods</a></li>
<li class="chapter" data-level="8.5.3" data-path="8.5-mod-08-ord.html"><a href="8.5-mod-08-ord.html#other-ordination-techniques"><i class="fa fa-check"></i><b>8.5.3</b> Other ordination techniques</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="9-mod-09.html"><a href="9-mod-09.html"><i class="fa fa-check"></i><b>9</b> Planning your analysis (what test?)</a>
<ul>
<li class="chapter" data-level="9.1" data-path="9.1-how-to-use-this-guide.html"><a href="9.1-how-to-use-this-guide.html"><i class="fa fa-check"></i><b>9.1</b> How to use this guide</a></li>
<li class="chapter" data-level="9.2" data-path="9.2-what-question-are-you-trying-to-answer.html"><a href="9.2-what-question-are-you-trying-to-answer.html"><i class="fa fa-check"></i><b>9.2</b> What question are you trying to answer?</a></li>
<li class="chapter" data-level="9.3" data-path="9.3-testing-for-a-difference-in-mean-or-location.html"><a href="9.3-testing-for-a-difference-in-mean-or-location.html"><i class="fa fa-check"></i><b>9.3</b> Testing for a difference in mean or location</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="9.3-testing-for-a-difference-in-mean-or-location.html"><a href="9.3-testing-for-a-difference-in-mean-or-location.html#additional-considerations"><i class="fa fa-check"></i><b>9.3.1</b> Additional considerations</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="9.4-testing-for-a-continuous-relationship-between-two-or-more-variables.html"><a href="9.4-testing-for-a-continuous-relationship-between-two-or-more-variables.html"><i class="fa fa-check"></i><b>9.4</b> Testing for a continuous relationship between two or more variables</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="9.4-testing-for-a-continuous-relationship-between-two-or-more-variables.html"><a href="9.4-testing-for-a-continuous-relationship-between-two-or-more-variables.html#additional-considerations-1"><i class="fa fa-check"></i><b>9.4.1</b> Additional considerations</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="9.5-classifying-observations.html"><a href="9.5-classifying-observations.html"><i class="fa fa-check"></i><b>9.5</b> Classifying observations</a></li>
<li class="chapter" data-level="9.6" data-path="9.6-conclusions.html"><a href="9.6-conclusions.html"><i class="fa fa-check"></i><b>9.6</b> Conclusions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="literature-cited.html"><a href="literature-cited.html"><i class="fa fa-check"></i>Literature Cited</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Applied Biological Data Analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="managing-dates-and-characters" class="section level2" number="3.4">
<h2><span class="header-section-number">3.4</span> Managing dates and characters</h2>
<p>Most of the data we deal with in R are numbers, but textual and temporal data are important two. Working with dates, times, and character strings can be significantly more complicated than working with numbers…so, I’ve put together an entire page on it. I am the first to admit that the approaches demonstrated here are a little “old-school” compared to some of the newer packages. In particular, many people prefer the tidyverse package <code>lubridate</code> <span class="citation">(<a href="#ref-grolemund2011" role="doc-biblioref">Grolemund and Wickham 2011</a>)</span> for temporal data. Much of this guide is based on <span class="citation">Spector (<a href="#ref-spector2008" role="doc-biblioref">2008</a>)</span>.</p>
<div id="temporal-data-and-dates" class="section level3" number="3.4.1">
<h3><span class="header-section-number">3.4.1</span> Temporal data and dates</h3>
<p>Temporal data can be read and interpreted by R in many formats. The general rule is to use the simplest way that you can, because the date and time classes can be very complicated. For example, don’t store date and time if you only need date. This doesn’t mean to discard potentially useful data; just to be judicious in what you import to and try to manipulate in R.</p>
<p>It should be noted that the easiest way to deal with dates and times is “don’t”. In many situations it’s actually not necessary to use temporal data classes. For example, if a field study was conducted in two years, and there is no temporal component to the question, it might be sufficient to just call the years <code>year1</code> and <code>year2</code> in the dataset. Or, if an elapsed time is used as a variable, it might make more sense to store the elapsed time (e.g., 10 minutes, 11.2 minutes, etc.) rather than use full date/time codes for each observation time.</p>
<div id="dates-without-times" class="section level4" number="3.4.1.1">
<h4><span class="header-section-number">3.4.1.1</span> Dates without times</h4>
<p>The easiest way to handle dates is to use the base function <code>as.Date()</code>. This function converts character strings to the R date format. This implies that you will have a much easier time if you send dates to R in YYYY-MM-DD format. You can do this in Excel by setting a custom number format. Once in R, use <code>as.Date()</code> to convert your properly-formatted text strings into date objects. Once converted, R can do simple arithmetic such as finding intervals between dates.</p>
<div class="sourceCode" id="cb474"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb474-1"><a href="3.4-managing-dates-and-characters.html#cb474-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;2021-07-23&quot;</span>, <span class="st">&quot;2021-08-01&quot;</span>, <span class="st">&quot;2021-09-03&quot;</span>)</span>
<span id="cb474-2"><a href="3.4-managing-dates-and-characters.html#cb474-2" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(a)</span>
<span id="cb474-3"><a href="3.4-managing-dates-and-characters.html#cb474-3" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(a)</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb476"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb476-1"><a href="3.4-managing-dates-and-characters.html#cb476-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(b)</span></code></pre></div>
<pre><code>## [1] &quot;Date&quot;</code></pre>
<div class="sourceCode" id="cb478"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb478-1"><a href="3.4-managing-dates-and-characters.html#cb478-1" aria-hidden="true" tabindex="-1"></a>b[<span class="dv">2</span>] <span class="sc">-</span> b[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>## Time difference of 9 days</code></pre>
<p>The examples above use the <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601 date format</a>, Year-Month-Day (or YYYY-MM-DD). This format has the advantage that sorting it alphanumerically is the same as sorting it chronologically. Each element has a fixed number of digits to avoid issues like January and October (months 1 and 10) being sorted next to each other.</p>
<p>I suggest that you get in the habit of storing dates this way. This format is the default date format in R (and many other programs), such that R can read dates in this format without additional arguments. If you insist on storing dates in other formats, you can still read those dates into R. You just need to tell <code>as.Date()</code> the format that the date is in. The syntax for formatting dates and times is handled by the function <code>strptime()</code> (see <code>?strptime</code> for more examples). Something common to all of the formats below is that each element has a <em>fixed number of digits</em>, 4 for year and 2 for month or day. This is to avoid ambiguity: does “7/2/2019” “July second, 2019”, or “February 7, 2019”?. This also avoids issues arising from treating numbers as character strings. For example, January and October (months 1 and 10) might be sorted next to each other unless represented by “01” and “10” instead of “1” and “10”.</p>
<div class="sourceCode" id="cb480"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb480-1"><a href="3.4-managing-dates-and-characters.html#cb480-1" aria-hidden="true" tabindex="-1"></a><span class="co"># YYYYMMDD</span></span>
<span id="cb480-2"><a href="3.4-managing-dates-and-characters.html#cb480-2" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="st">&quot;20210721&quot;</span></span>
<span id="cb480-3"><a href="3.4-managing-dates-and-characters.html#cb480-3" aria-hidden="true" tabindex="-1"></a><span class="fu">as.Date</span>(a, <span class="st">&quot;%Y%m%d&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2021-07-21&quot;</code></pre>
<div class="sourceCode" id="cb482"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb482-1"><a href="3.4-managing-dates-and-characters.html#cb482-1" aria-hidden="true" tabindex="-1"></a><span class="co"># MMDDYYYY</span></span>
<span id="cb482-2"><a href="3.4-managing-dates-and-characters.html#cb482-2" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="st">&quot;07212021&quot;</span></span>
<span id="cb482-3"><a href="3.4-managing-dates-and-characters.html#cb482-3" aria-hidden="true" tabindex="-1"></a><span class="fu">as.Date</span>(a, <span class="st">&quot;%m%d%Y&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2021-07-21&quot;</code></pre>
<div class="sourceCode" id="cb484"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb484-1"><a href="3.4-managing-dates-and-characters.html#cb484-1" aria-hidden="true" tabindex="-1"></a><span class="co"># MM/DD/YYYY</span></span>
<span id="cb484-2"><a href="3.4-managing-dates-and-characters.html#cb484-2" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="st">&quot;07/21/2021&quot;</span></span>
<span id="cb484-3"><a href="3.4-managing-dates-and-characters.html#cb484-3" aria-hidden="true" tabindex="-1"></a><span class="fu">as.Date</span>(a, <span class="st">&quot;%m/%d/%Y&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2021-07-21&quot;</code></pre>
<div class="sourceCode" id="cb486"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb486-1"><a href="3.4-managing-dates-and-characters.html#cb486-1" aria-hidden="true" tabindex="-1"></a><span class="co"># DD-MM-YYYY</span></span>
<span id="cb486-2"><a href="3.4-managing-dates-and-characters.html#cb486-2" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="st">&quot;21-07-2021&quot;</span></span>
<span id="cb486-3"><a href="3.4-managing-dates-and-characters.html#cb486-3" aria-hidden="true" tabindex="-1"></a><span class="fu">as.Date</span>(a, <span class="st">&quot;%d-%m-%Y&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2021-07-21&quot;</code></pre>
<p>An even simpler option for dates, if all dates are within the same year, is to use Julian dates (i.e., day-of-year). If you want to read Julian dates into R as dates, you can also use <code>as.Date()</code>. Notice in the example below that the Julian dates must be supplied as <em>character strings with 3 digits</em>, not as numerals. Notice also that R assigns the current year (2021) to the dates unless you specifically tell it to do something else.</p>
<div class="sourceCode" id="cb488"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb488-1"><a href="3.4-managing-dates-and-characters.html#cb488-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">as.character</span>(<span class="fu">c</span>(<span class="dv">204</span>, <span class="dv">213</span>, <span class="dv">246</span>))</span>
<span id="cb488-2"><a href="3.4-managing-dates-and-characters.html#cb488-2" aria-hidden="true" tabindex="-1"></a><span class="fu">as.Date</span>(a, <span class="st">&quot;%j&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2022-07-23&quot; &quot;2022-08-01&quot; &quot;2022-09-03&quot;</code></pre>
<div class="sourceCode" id="cb490"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb490-1"><a href="3.4-managing-dates-and-characters.html#cb490-1" aria-hidden="true" tabindex="-1"></a><span class="do">## not run:</span></span>
<span id="cb490-2"><a href="3.4-managing-dates-and-characters.html#cb490-2" aria-hidden="true" tabindex="-1"></a><span class="do">## causes error because nchar(&quot;15&quot;) &lt; 3:</span></span>
<span id="cb490-3"><a href="3.4-managing-dates-and-characters.html#cb490-3" aria-hidden="true" tabindex="-1"></a><span class="co">#a &lt;- c(15, 204, 213, 246)</span></span>
<span id="cb490-4"><a href="3.4-managing-dates-and-characters.html#cb490-4" aria-hidden="true" tabindex="-1"></a><span class="co">#as.Date(a, &quot;%j&quot;)</span></span>
<span id="cb490-5"><a href="3.4-managing-dates-and-characters.html#cb490-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb490-6"><a href="3.4-managing-dates-and-characters.html#cb490-6" aria-hidden="true" tabindex="-1"></a><span class="co"># convert all numbers to 3 digit</span></span>
<span id="cb490-7"><a href="3.4-managing-dates-and-characters.html#cb490-7" aria-hidden="true" tabindex="-1"></a><span class="co"># character strings first with formatC():</span></span>
<span id="cb490-8"><a href="3.4-managing-dates-and-characters.html#cb490-8" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">15</span>, <span class="dv">204</span>, <span class="dv">213</span>, <span class="dv">246</span>)</span>
<span id="cb490-9"><a href="3.4-managing-dates-and-characters.html#cb490-9" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">formatC</span>(a, <span class="at">width=</span><span class="dv">3</span>, <span class="at">flag=</span><span class="st">&quot;0&quot;</span>)</span>
<span id="cb490-10"><a href="3.4-managing-dates-and-characters.html#cb490-10" aria-hidden="true" tabindex="-1"></a><span class="fu">as.Date</span>(x, <span class="st">&quot;%j&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2022-01-15&quot; &quot;2022-07-23&quot; &quot;2022-08-01&quot; &quot;2022-09-03&quot;</code></pre>
<p>Dates can be reformatted using the function <code>format()</code>. Notice that the output is a character string, not a date. The syntax for the conversion comes from <code>strptime()</code>, just as with <code>as.Date()</code> above. If you need to use a formatted date (character string) as a date (R class) you need to convert it with <code>as.Date()</code>.</p>
<div class="sourceCode" id="cb492"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb492-1"><a href="3.4-managing-dates-and-characters.html#cb492-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;2021-07-23&quot;</span>, <span class="st">&quot;2021-08-01&quot;</span>, <span class="st">&quot;2021-09-03&quot;</span>)</span>
<span id="cb492-2"><a href="3.4-managing-dates-and-characters.html#cb492-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(a)</span>
<span id="cb492-3"><a href="3.4-managing-dates-and-characters.html#cb492-3" aria-hidden="true" tabindex="-1"></a><span class="fu">format</span>(x, <span class="st">&quot;%j&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;204&quot; &quot;213&quot; &quot;246&quot;</code></pre>
<div class="sourceCode" id="cb494"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb494-1"><a href="3.4-managing-dates-and-characters.html#cb494-1" aria-hidden="true" tabindex="-1"></a><span class="fu">format</span>(x, <span class="st">&quot;%Y-%m-%d&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2021-07-23&quot; &quot;2021-08-01&quot; &quot;2021-09-03&quot;</code></pre>
<div class="sourceCode" id="cb496"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb496-1"><a href="3.4-managing-dates-and-characters.html#cb496-1" aria-hidden="true" tabindex="-1"></a><span class="fu">format</span>(x, <span class="st">&quot;%b/%d/%y&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Jul/23/21&quot; &quot;Aug/01/21&quot; &quot;Sep/03/21&quot;</code></pre>
</div>
<div id="dates-with-times-and-time-zones" class="section level4" number="3.4.1.2">
<h4><span class="header-section-number">3.4.1.2</span> Dates with times (and time zones)</h4>
<p>Here be dragons.</p>
<p>Things get more complicated when time is included with a date, but the basic procedures are the same as date-only data. By default, R assumes that times are in the time zone of the current user. So, if you are collaborating with someone in a different time zone, you need to account for time zone in your code. Another default behavior is that R will assume that times without dates are on the current day.</p>
<p>The main function for working with dates <em>and</em> times is <code>strptime()</code>. This function takes in a character vector and a format argument, which tells R how the character vector is formatted. It returns objects of class <code>POSIXlt</code> and <code>POSIXt</code>, which contain date and time information in a standardized way.</p>
<div class="sourceCode" id="cb498"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb498-1"><a href="3.4-managing-dates-and-characters.html#cb498-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;01:15:03&quot;</span>, <span class="st">&quot;14:28:21&quot;</span>)</span>
<span id="cb498-2"><a href="3.4-managing-dates-and-characters.html#cb498-2" aria-hidden="true" tabindex="-1"></a><span class="fu">strptime</span>(a, <span class="at">format=</span><span class="st">&quot;%H:%M:%S&quot;</span>) <span class="co"># includes seconds</span></span></code></pre></div>
<pre><code>## [1] &quot;2022-01-13 01:15:03 EST&quot; &quot;2022-01-13 14:28:21 EST&quot;</code></pre>
<div class="sourceCode" id="cb500"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb500-1"><a href="3.4-managing-dates-and-characters.html#cb500-1" aria-hidden="true" tabindex="-1"></a><span class="fu">strptime</span>(a, <span class="at">format=</span><span class="st">&quot;%H:%M&quot;</span>)    <span class="co"># seconds dropped</span></span></code></pre></div>
<pre><code>## [1] &quot;2022-01-13 01:15:00 EST&quot; &quot;2022-01-13 14:28:00 EST&quot;</code></pre>
<p>Notice that the current date was included in the result of <code>strptime()</code> (at least, the date when I rendered this page with R Markdown).</p>
<p>Time zones should be specified when working with data that contain dates and times. Remember that R will assume the time is in the current user’s time zone. This almost always means the time zone used by the operating system in which R is running. If you did something silly like record data in one time zone and analyze it in another, you have to be careful. For example, I once ran a field study in Indiana where data were recorded in Eastern time. But, the office where I analyzed the data was in Missouri (Central time). R kept converting the time-stamped data to Central time, which interfered with the analysis until I learned how to work with time zones in R.</p>
<div class="sourceCode" id="cb502"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb502-1"><a href="3.4-managing-dates-and-characters.html#cb502-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;2021-07-23 13:21&quot;</span>, <span class="st">&quot;2021-08-01 09:15&quot;</span>)</span>
<span id="cb502-2"><a href="3.4-managing-dates-and-characters.html#cb502-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">strptime</span>(a, <span class="st">&quot;%Y-%m-%d %H:%M&quot;</span>)</span>
<span id="cb502-3"><a href="3.4-managing-dates-and-characters.html#cb502-3" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] &quot;2021-07-23 13:21:00 EDT&quot; &quot;2021-08-01 09:15:00 EDT&quot;</code></pre>
<div class="sourceCode" id="cb504"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb504-1"><a href="3.4-managing-dates-and-characters.html#cb504-1" aria-hidden="true" tabindex="-1"></a><span class="co"># compare to :</span></span>
<span id="cb504-2"><a href="3.4-managing-dates-and-characters.html#cb504-2" aria-hidden="true" tabindex="-1"></a>a2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;13:21&quot;</span>, <span class="st">&quot;09:15&quot;</span>)</span>
<span id="cb504-3"><a href="3.4-managing-dates-and-characters.html#cb504-3" aria-hidden="true" tabindex="-1"></a>x2 <span class="ot">&lt;-</span> <span class="fu">strptime</span>(a2, <span class="st">&quot;%H:%M&quot;</span>)</span>
<span id="cb504-4"><a href="3.4-managing-dates-and-characters.html#cb504-4" aria-hidden="true" tabindex="-1"></a>x2</span></code></pre></div>
<pre><code>## [1] &quot;2022-01-13 13:21:00 EST&quot; &quot;2022-01-13 09:15:00 EST&quot;</code></pre>
<p>Time zone names are not always portable across systems. R has a list of built-in time zones that it can handle, and these should work, but be careful and <strong><em>always</em></strong> validate any code that depends on time zones. The list of time zones R can use can be printed to the console with the command <code>OlsonNames()</code>.</p>
<div class="sourceCode" id="cb506"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb506-1"><a href="3.4-managing-dates-and-characters.html#cb506-1" aria-hidden="true" tabindex="-1"></a><span class="co"># US Central Daylight Time (5 hours behind UTC)</span></span>
<span id="cb506-2"><a href="3.4-managing-dates-and-characters.html#cb506-2" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;2021-07-23 13:21&quot;</span>, <span class="st">&quot;2021-08-01 09:15&quot;</span>)</span>
<span id="cb506-3"><a href="3.4-managing-dates-and-characters.html#cb506-3" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">strptime</span>(a, <span class="st">&quot;%Y-%m-%d %H:%M&quot;</span>, <span class="at">tz=</span><span class="st">&quot;US/Central&quot;</span>)</span></code></pre></div>
<p>Internally, dates and times are stored as the number of seconds elapsed since 00:00 on 1 January 1970, in UTC. You can see these values with <code>as.numeric()</code>. The time zone of a value affects what is printed to the console. That time zone is stored by R as an <strong>attribute</strong> of the value. Attributes are a kind of metadata associated with some R data types that can be accessed with <code>attributes()</code>.</p>
<div class="sourceCode" id="cb507"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb507-1"><a href="3.4-managing-dates-and-characters.html#cb507-1" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(b)<span class="sc">$</span>tzone</span></code></pre></div>
<pre><code>## [1] &quot;US/Central&quot; &quot;CST&quot;        &quot;CDT&quot;</code></pre>
<p>To change the time zone associated with value, simply set the attribute to the desired time zone. This is basically telling R the time zone that a date and time refer to. Note that will change the actual value of a date/time. It does NOT translate times in one time zone to another.</p>
<div class="sourceCode" id="cb509"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb509-1"><a href="3.4-managing-dates-and-characters.html#cb509-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.numeric</span>(b)</span></code></pre></div>
<pre><code>## [1] 1627064460 1627827300</code></pre>
<div class="sourceCode" id="cb511"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb511-1"><a href="3.4-managing-dates-and-characters.html#cb511-1" aria-hidden="true" tabindex="-1"></a><span class="fu">attr</span>(b, <span class="st">&quot;tzone&quot;</span>) <span class="ot">&lt;-</span> <span class="st">&quot;America/Los_Angeles&quot;</span></span>
<span id="cb511-2"><a href="3.4-managing-dates-and-characters.html#cb511-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb511-3"><a href="3.4-managing-dates-and-characters.html#cb511-3" aria-hidden="true" tabindex="-1"></a><span class="co"># different by 7200 seconds (2 hours)</span></span>
<span id="cb511-4"><a href="3.4-managing-dates-and-characters.html#cb511-4" aria-hidden="true" tabindex="-1"></a><span class="fu">as.numeric</span>(b)</span></code></pre></div>
<pre><code>## [1] 1627071660 1627834500</code></pre>
<p>To convert one time zone to another, the values must first be converted to the <code>POSIXct</code> class.</p>
<div class="sourceCode" id="cb513"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb513-1"><a href="3.4-managing-dates-and-characters.html#cb513-1" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">strptime</span>(a, <span class="st">&quot;%Y-%m-%d %H:%M&quot;</span>, <span class="at">tz=</span><span class="st">&quot;US/Central&quot;</span>)</span>
<span id="cb513-2"><a href="3.4-managing-dates-and-characters.html#cb513-2" aria-hidden="true" tabindex="-1"></a>b2 <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(b)</span>
<span id="cb513-3"><a href="3.4-managing-dates-and-characters.html#cb513-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb513-4"><a href="3.4-managing-dates-and-characters.html#cb513-4" aria-hidden="true" tabindex="-1"></a><span class="co"># check time zone</span></span>
<span id="cb513-5"><a href="3.4-managing-dates-and-characters.html#cb513-5" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(b2)<span class="sc">$</span>tzone</span></code></pre></div>
<pre><code>## [1] &quot;US/Central&quot;</code></pre>
<div class="sourceCode" id="cb515"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb515-1"><a href="3.4-managing-dates-and-characters.html#cb515-1" aria-hidden="true" tabindex="-1"></a><span class="co"># check actual time (seconds since epoch)</span></span>
<span id="cb515-2"><a href="3.4-managing-dates-and-characters.html#cb515-2" aria-hidden="true" tabindex="-1"></a><span class="fu">as.numeric</span>(b2)</span></code></pre></div>
<pre><code>## [1] 1627064460 1627827300</code></pre>
<div class="sourceCode" id="cb517"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb517-1"><a href="3.4-managing-dates-and-characters.html#cb517-1" aria-hidden="true" tabindex="-1"></a><span class="co"># change time zone of POSIXct object</span></span>
<span id="cb517-2"><a href="3.4-managing-dates-and-characters.html#cb517-2" aria-hidden="true" tabindex="-1"></a><span class="fu">attr</span>(b2, <span class="st">&quot;tzone&quot;</span>) <span class="ot">&lt;-</span> <span class="st">&quot;Europe/London&quot;</span></span>
<span id="cb517-3"><a href="3.4-managing-dates-and-characters.html#cb517-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb517-4"><a href="3.4-managing-dates-and-characters.html#cb517-4" aria-hidden="true" tabindex="-1"></a><span class="co"># actual time same as before:</span></span>
<span id="cb517-5"><a href="3.4-managing-dates-and-characters.html#cb517-5" aria-hidden="true" tabindex="-1"></a><span class="fu">as.numeric</span>(b2)</span></code></pre></div>
<pre><code>## [1] 1627064460 1627827300</code></pre>
</div>
<div id="working-with-dates-and-times" class="section level4" number="3.4.1.3">
<h4><span class="header-section-number">3.4.1.3</span> Working with dates and times</h4>
<p>Why should we go through all of this trouble to format dates and times as dates and times? The answer is that R can perform many useful calculations with dates and times. One of these is time intervals by using subtraction or the function <code>difftime()</code>. Subtracting two date/times will return an answer but perhaps not in the units you want; use <code>difftime()</code> if you want to specify the units.</p>
<div class="sourceCode" id="cb519"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb519-1"><a href="3.4-managing-dates-and-characters.html#cb519-1" aria-hidden="true" tabindex="-1"></a><span class="co"># how many days, hours, and minutes until Prof. Green can retire?</span></span>
<span id="cb519-2"><a href="3.4-managing-dates-and-characters.html#cb519-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb519-3"><a href="3.4-managing-dates-and-characters.html#cb519-3" aria-hidden="true" tabindex="-1"></a><span class="do">## current time:</span></span>
<span id="cb519-4"><a href="3.4-managing-dates-and-characters.html#cb519-4" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb519-5"><a href="3.4-managing-dates-and-characters.html#cb519-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb519-6"><a href="3.4-managing-dates-and-characters.html#cb519-6" aria-hidden="true" tabindex="-1"></a><span class="do">## retirement date per USG:</span></span>
<span id="cb519-7"><a href="3.4-managing-dates-and-characters.html#cb519-7" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="st">&quot;2048-07-01 00:00&quot;</span></span>
<span id="cb519-8"><a href="3.4-managing-dates-and-characters.html#cb519-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb519-9"><a href="3.4-managing-dates-and-characters.html#cb519-9" aria-hidden="true" tabindex="-1"></a><span class="do">## convert to POSIXlt</span></span>
<span id="cb519-10"><a href="3.4-managing-dates-and-characters.html#cb519-10" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">strptime</span>(a, <span class="st">&quot;%Y-%m-%d %H:%M&quot;</span>)</span>
<span id="cb519-11"><a href="3.4-managing-dates-and-characters.html#cb519-11" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">strptime</span>(b, <span class="st">&quot;%Y-%m-%d %H:%M&quot;</span>)</span>
<span id="cb519-12"><a href="3.4-managing-dates-and-characters.html#cb519-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb519-13"><a href="3.4-managing-dates-and-characters.html#cb519-13" aria-hidden="true" tabindex="-1"></a><span class="do">## calculate time in different units:</span></span>
<span id="cb519-14"><a href="3.4-managing-dates-and-characters.html#cb519-14" aria-hidden="true" tabindex="-1"></a><span class="fu">difftime</span>(y,x, <span class="at">units=</span><span class="st">&quot;days&quot;</span>)</span></code></pre></div>
<pre><code>## Time difference of 9665.577 days</code></pre>
<div class="sourceCode" id="cb521"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb521-1"><a href="3.4-managing-dates-and-characters.html#cb521-1" aria-hidden="true" tabindex="-1"></a><span class="fu">difftime</span>(y,x, <span class="at">units=</span><span class="st">&quot;hours&quot;</span>)</span></code></pre></div>
<pre><code>## Time difference of 231973.9 hours</code></pre>
<div class="sourceCode" id="cb523"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb523-1"><a href="3.4-managing-dates-and-characters.html#cb523-1" aria-hidden="true" tabindex="-1"></a><span class="fu">difftime</span>(y,x, <span class="at">units=</span><span class="st">&quot;mins&quot;</span>)</span></code></pre></div>
<pre><code>## Time difference of 13918431 mins</code></pre>
<div class="sourceCode" id="cb525"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb525-1"><a href="3.4-managing-dates-and-characters.html#cb525-1" aria-hidden="true" tabindex="-1"></a>y<span class="sc">-</span>x</span></code></pre></div>
<pre><code>## Time difference of 9665.577 days</code></pre>
<p>Another application: what is the time difference between Chicago and Honolulu?</p>
<div class="sourceCode" id="cb527"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb527-1"><a href="3.4-managing-dates-and-characters.html#cb527-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;2021-07-23 13:21&quot;</span>)</span>
<span id="cb527-2"><a href="3.4-managing-dates-and-characters.html#cb527-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">strptime</span>(a, <span class="st">&quot;%Y-%m-%d %H:%M&quot;</span>, <span class="at">tz=</span><span class="st">&quot;US/Central&quot;</span>)</span>
<span id="cb527-3"><a href="3.4-managing-dates-and-characters.html#cb527-3" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">strptime</span>(a, <span class="st">&quot;%Y-%m-%d %H:%M&quot;</span>, <span class="at">tz=</span><span class="st">&quot;US/Hawaii&quot;</span>)</span>
<span id="cb527-4"><a href="3.4-managing-dates-and-characters.html#cb527-4" aria-hidden="true" tabindex="-1"></a><span class="fu">difftime</span>(x,y)</span></code></pre></div>
<pre><code>## Time difference of -5 hours</code></pre>
<p>Oddly, <code>difftime()</code> cannot return years. This is probably because there are <a href="https://en.wikipedia.org/wiki/Year">different types of years</a> (sidereal, tropical, anomalistic, lunar, etc.). You can convert a time difference in days to one in years by dividing by the number of days in the kind of year you want. The example below converts to does this and changes the “units” attribute of the difftime output to match.</p>
<div class="sourceCode" id="cb529"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb529-1"><a href="3.4-managing-dates-and-characters.html#cb529-1" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">difftime</span>(y,x, <span class="at">units=</span><span class="st">&quot;days&quot;</span>)</span>
<span id="cb529-2"><a href="3.4-managing-dates-and-characters.html#cb529-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb529-3"><a href="3.4-managing-dates-and-characters.html#cb529-3" aria-hidden="true" tabindex="-1"></a><span class="co"># julian year</span></span>
<span id="cb529-4"><a href="3.4-managing-dates-and-characters.html#cb529-4" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> d<span class="sc">/</span><span class="fl">365.25</span></span>
<span id="cb529-5"><a href="3.4-managing-dates-and-characters.html#cb529-5" aria-hidden="true" tabindex="-1"></a><span class="fu">attr</span>(d, <span class="st">&quot;units&quot;</span>) <span class="ot">&lt;-</span> <span class="st">&quot;years&quot;</span></span>
<span id="cb529-6"><a href="3.4-managing-dates-and-characters.html#cb529-6" aria-hidden="true" tabindex="-1"></a>d</span></code></pre></div>
<pre><code>## Time difference of 0.0005703856 years</code></pre>
<p>The Julian year is useful because it is defined in terms of an SI units as 31557600 seconds, or 365.25 days<a href="literature-cited.html#fn28" class="footnote-ref" id="fnref28"><sup>28</sup></a>. Most of the alternative years at the link above vary by less than a few minutes.</p>
<p>R can also generate regular sequences of dates and times just like it can numeric values. See <code>?seq.date</code> for details and syntax.</p>
<div class="sourceCode" id="cb531"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb531-1"><a href="3.4-managing-dates-and-characters.html#cb531-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">&quot;2021-07-23&quot;</span>)</span>
<span id="cb531-2"><a href="3.4-managing-dates-and-characters.html#cb531-2" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(a, <span class="at">by=</span><span class="st">&quot;day&quot;</span>, <span class="at">length=</span><span class="dv">10</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;2021-07-23&quot; &quot;2021-07-24&quot; &quot;2021-07-25&quot; &quot;2021-07-26&quot; &quot;2021-07-27&quot;
##  [6] &quot;2021-07-28&quot; &quot;2021-07-29&quot; &quot;2021-07-30&quot; &quot;2021-07-31&quot; &quot;2021-08-01&quot;</code></pre>
<div class="sourceCode" id="cb533"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb533-1"><a href="3.4-managing-dates-and-characters.html#cb533-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(a, <span class="at">by=</span><span class="st">&quot;days&quot;</span>, <span class="at">length=</span><span class="dv">6</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2021-07-23&quot; &quot;2021-07-24&quot; &quot;2021-07-25&quot; &quot;2021-07-26&quot; &quot;2021-07-27&quot;
## [6] &quot;2021-07-28&quot;</code></pre>
<div class="sourceCode" id="cb535"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb535-1"><a href="3.4-managing-dates-and-characters.html#cb535-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(a, <span class="at">by=</span><span class="st">&quot;week&quot;</span>, <span class="at">length=</span><span class="dv">10</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;2021-07-23&quot; &quot;2021-07-30&quot; &quot;2021-08-06&quot; &quot;2021-08-13&quot; &quot;2021-08-20&quot;
##  [6] &quot;2021-08-27&quot; &quot;2021-09-03&quot; &quot;2021-09-10&quot; &quot;2021-09-17&quot; &quot;2021-09-24&quot;</code></pre>
<div class="sourceCode" id="cb537"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb537-1"><a href="3.4-managing-dates-and-characters.html#cb537-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(a, <span class="at">by=</span><span class="st">&quot;6 weeks&quot;</span>, <span class="at">length=</span><span class="dv">10</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;2021-07-23&quot; &quot;2021-09-03&quot; &quot;2021-10-15&quot; &quot;2021-11-26&quot; &quot;2022-01-07&quot;
##  [6] &quot;2022-02-18&quot; &quot;2022-04-01&quot; &quot;2022-05-13&quot; &quot;2022-06-24&quot; &quot;2022-08-05&quot;</code></pre>
<div class="sourceCode" id="cb539"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb539-1"><a href="3.4-managing-dates-and-characters.html#cb539-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(a, <span class="at">by=</span><span class="st">&quot;-4 weeks&quot;</span>, <span class="at">length=</span><span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2021-07-23&quot; &quot;2021-06-25&quot; &quot;2021-05-28&quot; &quot;2021-04-30&quot; &quot;2021-04-02&quot;</code></pre>
</div>
</div>
<div id="character-data-text" class="section level3" number="3.4.2">
<h3><span class="header-section-number">3.4.2</span> Character data (text)</h3>
<p>Recall from earlier that “character” is just another <strong>type</strong> of data in R–the type that contains text. This means that text values can be stored and manipulated in many of the same ways as numeric data. The vectorized functions in R can make managing your text-based data very fast and efficient.</p>
<p>A value containing text, or stored as text, is called a <strong>character string</strong>. Character strings can be stored in many R objects. A set of character strings is called a <strong>character vector</strong>.</p>
<div id="combining-character-strings" class="section level4" number="3.4.2.1">
<h4><span class="header-section-number">3.4.2.1</span> Combining character strings</h4>
<p>Character strings can be combined together into larger character strings using the function <code>paste()</code>. Notice that this is not the same as making a vector containing several character strings. That operation is done with <code>c()</code>.</p>
<div class="sourceCode" id="cb541"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb541-1"><a href="3.4-managing-dates-and-characters.html#cb541-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>)</span>
<span id="cb541-2"><a href="3.4-managing-dates-and-characters.html#cb541-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>)</span>
<span id="cb541-3"><a href="3.4-managing-dates-and-characters.html#cb541-3" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] &quot;a b c&quot;</code></pre>
<div class="sourceCode" id="cb543"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb543-1"><a href="3.4-managing-dates-and-characters.html#cb543-1" aria-hidden="true" tabindex="-1"></a>y</span></code></pre></div>
<pre><code>## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot;</code></pre>
<div class="sourceCode" id="cb545"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb545-1"><a href="3.4-managing-dates-and-characters.html#cb545-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(x)</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb547"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb547-1"><a href="3.4-managing-dates-and-characters.html#cb547-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(y)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<p>The function <code>paste()</code>, and its cousin <code>paste0()</code>, combine their arguments together and output a character string. The inputs do not have to be character strings, but the outputs will be. The difference between <code>paste()</code> and <code>paste0()</code> is that <code>paste0()</code> does not put any characters between its inputs, while <code>paste()</code> can place any valid character between its inputs. The default separator is a space.</p>
<div class="sourceCode" id="cb549"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb549-1"><a href="3.4-managing-dates-and-characters.html#cb549-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste0</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;zebra&quot;</span>, <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] &quot;azebra3&quot;</code></pre>
<div class="sourceCode" id="cb551"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb551-1"><a href="3.4-managing-dates-and-characters.html#cb551-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;zebra&quot;</span>, <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] &quot;a zebra 3&quot;</code></pre>
<div class="sourceCode" id="cb553"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb553-1"><a href="3.4-managing-dates-and-characters.html#cb553-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;zebra&quot;</span>, <span class="dv">3</span>, <span class="at">sep=</span><span class="st">&quot;_&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;a_zebra_3&quot;</code></pre>
<div class="sourceCode" id="cb555"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb555-1"><a href="3.4-managing-dates-and-characters.html#cb555-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;zebra&quot;</span>, <span class="dv">3</span>, <span class="at">sep=</span><span class="st">&quot;.&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;a.zebra.3&quot;</code></pre>
<div class="sourceCode" id="cb557"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb557-1"><a href="3.4-managing-dates-and-characters.html#cb557-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;zebra&quot;</span>, <span class="dv">3</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;a/zebra/3&quot;</code></pre>
<div class="sourceCode" id="cb559"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb559-1"><a href="3.4-managing-dates-and-characters.html#cb559-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;zebra&quot;</span>, <span class="dv">3</span>, <span class="at">sep=</span><span class="st">&quot;giraffe&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;agiraffezebragiraffe3&quot;</code></pre>
<p>One of my favorite uses for the paste functions is to automatically generate folder names and output file names. The example below adds the current date (<code>Sys.Date()</code>) into a file name.</p>
<div class="sourceCode" id="cb561"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb561-1"><a href="3.4-managing-dates-and-characters.html#cb561-1" aria-hidden="true" tabindex="-1"></a><span class="co"># not run</span></span>
<span id="cb561-2"><a href="3.4-managing-dates-and-characters.html#cb561-2" aria-hidden="true" tabindex="-1"></a>top.dir <span class="ot">&lt;-</span> <span class="st">&quot;C:/_data&quot;</span></span>
<span id="cb561-3"><a href="3.4-managing-dates-and-characters.html#cb561-3" aria-hidden="true" tabindex="-1"></a>out.dir <span class="ot">&lt;-</span> <span class="fu">paste</span>(top.dir, <span class="st">&quot;test&quot;</span>, <span class="at">sep=</span><span class="st">&quot;/&quot;</span>)</span>
<span id="cb561-4"><a href="3.4-managing-dates-and-characters.html#cb561-4" aria-hidden="true" tabindex="-1"></a>out.name <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&quot;output_&quot;</span>, <span class="fu">Sys.Date</span>(), <span class="st">&quot;.csv&quot;</span>)</span>
<span id="cb561-5"><a href="3.4-managing-dates-and-characters.html#cb561-5" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(iris, <span class="fu">paste</span>(geo.dir, out.name, <span class="at">sep=</span><span class="st">&quot;/&quot;</span>))</span></code></pre></div>
<p>When the inputs to a <code>paste()</code> function are contained in a single vector, then the desired separator must be supplied using the argument <code>collapse</code> instead of <code>sep</code>.</p>
<div class="sourceCode" id="cb562"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb562-1"><a href="3.4-managing-dates-and-characters.html#cb562-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>)</span>
<span id="cb562-2"><a href="3.4-managing-dates-and-characters.html#cb562-2" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(a, <span class="at">collapse=</span><span class="st">&quot;-&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;a-b-c&quot;</code></pre>
</div>
<div id="printing-character-strings" class="section level4" number="3.4.2.2">
<h4><span class="header-section-number">3.4.2.2</span> Printing character strings</h4>
<p>The <code>cat()</code> function can not only put strings together, but also print them to the R console. This is useful if you want to generate messages from inside functions or loops. When <code>cat()</code> receives inputs that are not character strings, it evaluates them and converts them to character strings. The examples below show how inputs can be evaluated and printed. It also illustrates the use of <code>\n</code> and <code>\t</code> to insert new lines and tabs, respectively. Finally, the command flush.console() ensures that the console is updated with the most recent outputs.</p>
<div class="sourceCode" id="cb564"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb564-1"><a href="3.4-managing-dates-and-characters.html#cb564-1" aria-hidden="true" tabindex="-1"></a><span class="co"># using cat() in a function:</span></span>
<span id="cb564-2"><a href="3.4-managing-dates-and-characters.html#cb564-2" aria-hidden="true" tabindex="-1"></a>my.fun <span class="ot">&lt;-</span> <span class="cf">function</span>(x){</span>
<span id="cb564-3"><a href="3.4-managing-dates-and-characters.html#cb564-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">&quot;You entered&quot;</span>, x, <span class="st">&quot;!&quot;</span>, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb564-4"><a href="3.4-managing-dates-and-characters.html#cb564-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">&quot;</span><span class="sc">\t</span><span class="st">&quot;</span>, <span class="st">&quot;1 more is&quot;</span>, x<span class="sc">+</span><span class="dv">1</span>, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb564-5"><a href="3.4-managing-dates-and-characters.html#cb564-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb564-6"><a href="3.4-managing-dates-and-characters.html#cb564-6" aria-hidden="true" tabindex="-1"></a><span class="fu">my.fun</span>(<span class="dv">7</span>)</span></code></pre></div>
<pre><code>## You entered 7 ! 
##   1 more is 8</code></pre>
<div class="sourceCode" id="cb566"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb566-1"><a href="3.4-managing-dates-and-characters.html#cb566-1" aria-hidden="true" tabindex="-1"></a><span class="fu">my.fun</span>(<span class="dv">42</span>)</span></code></pre></div>
<pre><code>## You entered 42 ! 
##   1 more is 43</code></pre>
<div class="sourceCode" id="cb568"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb568-1"><a href="3.4-managing-dates-and-characters.html#cb568-1" aria-hidden="true" tabindex="-1"></a><span class="co"># using cat() in a loop:</span></span>
<span id="cb568-2"><a href="3.4-managing-dates-and-characters.html#cb568-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>){</span>
<span id="cb568-3"><a href="3.4-managing-dates-and-characters.html#cb568-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">&quot;starting iteration&quot;</span>, i, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb568-4"><a href="3.4-managing-dates-and-characters.html#cb568-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span>(j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>){</span>
<span id="cb568-5"><a href="3.4-managing-dates-and-characters.html#cb568-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">cat</span>(<span class="st">&quot;</span><span class="sc">\t</span><span class="st">&quot;</span>, <span class="st">&quot;iteration&quot;</span>, i, <span class="st">&quot;part&quot;</span>, j, <span class="st">&quot;complete!&quot;</span>, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb568-6"><a href="3.4-managing-dates-and-characters.html#cb568-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">flush.console</span>()</span>
<span id="cb568-7"><a href="3.4-managing-dates-and-characters.html#cb568-7" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb568-8"><a href="3.4-managing-dates-and-characters.html#cb568-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">&quot;iteration&quot;</span>, i, <span class="st">&quot;complete!&quot;</span>, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb568-9"><a href="3.4-managing-dates-and-characters.html#cb568-9" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## starting iteration 1 
##   iteration 1 part 1 complete! 
##   iteration 1 part 2 complete! 
##   iteration 1 part 3 complete! 
##   iteration 1 part 4 complete! 
##   iteration 1 part 5 complete! 
##   iteration 1 part 6 complete! 
##   iteration 1 part 7 complete! 
##   iteration 1 part 8 complete! 
##   iteration 1 part 9 complete! 
##   iteration 1 part 10 complete! 
## iteration 1 complete! 
## starting iteration 2 
##   iteration 2 part 1 complete! 
##   iteration 2 part 2 complete! 
##   iteration 2 part 3 complete! 
##   iteration 2 part 4 complete! 
##   iteration 2 part 5 complete! 
##   iteration 2 part 6 complete! 
##   iteration 2 part 7 complete! 
##   iteration 2 part 8 complete! 
##   iteration 2 part 9 complete! 
##   iteration 2 part 10 complete! 
## iteration 2 complete! 
## starting iteration 3 
##   iteration 3 part 1 complete! 
##   iteration 3 part 2 complete! 
##   iteration 3 part 3 complete! 
##   iteration 3 part 4 complete! 
##   iteration 3 part 5 complete! 
##   iteration 3 part 6 complete! 
##   iteration 3 part 7 complete! 
##   iteration 3 part 8 complete! 
##   iteration 3 part 9 complete! 
##   iteration 3 part 10 complete! 
## iteration 3 complete! 
## starting iteration 4 
##   iteration 4 part 1 complete! 
##   iteration 4 part 2 complete! 
##   iteration 4 part 3 complete! 
##   iteration 4 part 4 complete! 
##   iteration 4 part 5 complete! 
##   iteration 4 part 6 complete! 
##   iteration 4 part 7 complete! 
##   iteration 4 part 8 complete! 
##   iteration 4 part 9 complete! 
##   iteration 4 part 10 complete! 
## iteration 4 complete! 
## starting iteration 5 
##   iteration 5 part 1 complete! 
##   iteration 5 part 2 complete! 
##   iteration 5 part 3 complete! 
##   iteration 5 part 4 complete! 
##   iteration 5 part 5 complete! 
##   iteration 5 part 6 complete! 
##   iteration 5 part 7 complete! 
##   iteration 5 part 8 complete! 
##   iteration 5 part 9 complete! 
##   iteration 5 part 10 complete! 
## iteration 5 complete!</code></pre>
<p>The other printing function, <code>sink()</code>, is specifically for printing outputs into text files. Refer back to the <a href="3.1-mod-03-inout.html#mod-03-inout">section on data import/export</a> for an example.</p>
</div>
<div id="matching-character-strings" class="section level4" number="3.4.2.3">
<h4><span class="header-section-number">3.4.2.3</span> Matching character strings</h4>
<p>Like numeric data, character strings can be matched exactly with the comparison operator <code>==</code>.</p>
<div class="sourceCode" id="cb570"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb570-1"><a href="3.4-managing-dates-and-characters.html#cb570-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;zebra&quot;</span>, <span class="st">&quot;hippo&quot;</span>)</span>
<span id="cb570-2"><a href="3.4-managing-dates-and-characters.html#cb570-2" aria-hidden="true" tabindex="-1"></a>x <span class="sc">==</span> <span class="st">&quot;zebra&quot;</span></span></code></pre></div>
<pre><code>## [1]  TRUE FALSE</code></pre>
<div class="sourceCode" id="cb572"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb572-1"><a href="3.4-managing-dates-and-characters.html#cb572-1" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span>(x <span class="sc">==</span> <span class="st">&quot;zebra&quot;</span>)</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb574"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb574-1"><a href="3.4-managing-dates-and-characters.html#cb574-1" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span>(x <span class="sc">!=</span> <span class="st">&quot;zebra&quot;</span>)</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb576"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb576-1"><a href="3.4-managing-dates-and-characters.html#cb576-1" aria-hidden="true" tabindex="-1"></a><span class="fu">any</span>(x <span class="sc">==</span> <span class="st">&quot;zebra&quot;</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb578"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb578-1"><a href="3.4-managing-dates-and-characters.html#cb578-1" aria-hidden="true" tabindex="-1"></a><span class="fu">all</span>(x <span class="sc">==</span> <span class="st">&quot;zebra&quot;</span>)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>Notice that this kind of matching is case-sensitive. If you need to match regardless of case, you can either force all of the comparands to be the same case, or use regular expressions (see next section).</p>
<div class="sourceCode" id="cb580"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb580-1"><a href="3.4-managing-dates-and-characters.html#cb580-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;zebra&quot;</span>, <span class="st">&quot;hippo&quot;</span>)</span>
<span id="cb580-2"><a href="3.4-managing-dates-and-characters.html#cb580-2" aria-hidden="true" tabindex="-1"></a><span class="fu">any</span>(x <span class="sc">==</span> <span class="st">&quot;Zebra&quot;</span>)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb582"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb582-1"><a href="3.4-managing-dates-and-characters.html#cb582-1" aria-hidden="true" tabindex="-1"></a><span class="fu">any</span>(x <span class="sc">==</span> <span class="fu">tolower</span>(<span class="st">&quot;zebra&quot;</span>))</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>R is smart enough to sort text alphabetically, and to make comparisons based on alphabetical sorting.</p>
<div class="sourceCode" id="cb584"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb584-1"><a href="3.4-managing-dates-and-characters.html#cb584-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;zebra&quot;</span>, <span class="st">&quot;hippo&quot;</span>, <span class="st">&quot;lion&quot;</span>)</span>
<span id="cb584-2"><a href="3.4-managing-dates-and-characters.html#cb584-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(x)</span></code></pre></div>
<pre><code>## [1] &quot;hippo&quot; &quot;lion&quot;  &quot;zebra&quot;</code></pre>
<div class="sourceCode" id="cb586"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb586-1"><a href="3.4-managing-dates-and-characters.html#cb586-1" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;zebra&quot;</span> <span class="sc">&gt;</span> <span class="st">&quot;hippo&quot;</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb588"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb588-1"><a href="3.4-managing-dates-and-characters.html#cb588-1" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;lion&quot;</span> <span class="sc">&gt;</span> <span class="st">&quot;zebra&quot;</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb590"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb590-1"><a href="3.4-managing-dates-and-characters.html#cb590-1" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span>(x <span class="sc">&gt;</span> <span class="st">&quot;jaguar&quot;</span>)</span></code></pre></div>
<pre><code>## [1] 1 3</code></pre>
</div>
<div id="searching-with-grep-and-grepl" class="section level4" number="3.4.2.4">
<h4><span class="header-section-number">3.4.2.4</span> Searching with <code>grep()</code> and <code>grepl()</code></h4>
<p><strong>Regular expressions</strong>, or <strong>regex</strong>, are a syntax for searching text strings. Learning how to use regular expressions is easily a semester-long course on its own. Here we’ll just explore a few common use cases. The R functions that deal with regular expressions are <code>grep()</code> and its cousins. The most commonly used versions are <code>grep()</code> and <code>grepl()</code>.</p>
<ul>
<li><code>grep()</code> returns the indices in the input vector that match the pattern</li>
<li><code>grepl()</code> returns a logical value (TRUE or FALSE) telling whether each element in the input vector matches the pattern.</li>
</ul>
<p>This means that <code>grepl()</code> is analogous to using <code>==</code> to test for equality, while <code>grep()</code> is analogous to using <code>which()</code>. Compare the results of the two commands on the simple vector <code>x</code> below. It’s not hard to imagine how powerful these functions can be.</p>
<div class="sourceCode" id="cb592"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb592-1"><a href="3.4-managing-dates-and-characters.html#cb592-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;zebra&quot;</span>, <span class="st">&quot;hippo&quot;</span>, <span class="st">&quot;lion&quot;</span>, <span class="st">&quot;tiger&quot;</span>)</span>
<span id="cb592-2"><a href="3.4-managing-dates-and-characters.html#cb592-2" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;e&quot;</span>, x)</span></code></pre></div>
<pre><code>## [1] 1 4</code></pre>
<div class="sourceCode" id="cb594"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb594-1"><a href="3.4-managing-dates-and-characters.html#cb594-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grepl</span>(<span class="st">&quot;e&quot;</span>, x)</span></code></pre></div>
<pre><code>## [1]  TRUE FALSE FALSE  TRUE</code></pre>
<p>Some of the arguments to <code>grep()</code> can save you some time. Setting <code>value=TRUE</code> will return the values where the input matches the pattern.</p>
<div class="sourceCode" id="cb596"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb596-1"><a href="3.4-managing-dates-and-characters.html#cb596-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;e&quot;</span>, x, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] &quot;zebra&quot; &quot;tiger&quot;</code></pre>
<div class="sourceCode" id="cb598"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb598-1"><a href="3.4-managing-dates-and-characters.html#cb598-1" aria-hidden="true" tabindex="-1"></a><span class="co"># equivalent to:</span></span>
<span id="cb598-2"><a href="3.4-managing-dates-and-characters.html#cb598-2" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">grep</span>(<span class="st">&quot;e&quot;</span>, x)]</span></code></pre></div>
<pre><code>## [1] &quot;zebra&quot; &quot;tiger&quot;</code></pre>
<p>Setting <code>invert=TRUE</code> will find elements of the input that do NOT match the pattern.</p>
<div class="sourceCode" id="cb600"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb600-1"><a href="3.4-managing-dates-and-characters.html#cb600-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;e&quot;</span>, x)</span></code></pre></div>
<pre><code>## [1] 1 4</code></pre>
<div class="sourceCode" id="cb602"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb602-1"><a href="3.4-managing-dates-and-characters.html#cb602-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;e&quot;</span>, x, <span class="at">invert=</span><span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] 2 3</code></pre>
<p>By default, <code>grep()</code> is case-sensitive. This can be overridden with the option <code>ignore.case</code>.</p>
<div class="sourceCode" id="cb604"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb604-1"><a href="3.4-managing-dates-and-characters.html#cb604-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;zebra&quot;</span>, <span class="st">&quot;hippo&quot;</span>, <span class="st">&quot;lion&quot;</span>, <span class="st">&quot;tiger&quot;</span>, <span class="st">&quot;Tiger&quot;</span>)</span>
<span id="cb604-2"><a href="3.4-managing-dates-and-characters.html#cb604-2" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;tiger&quot;</span>, x)</span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb606"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb606-1"><a href="3.4-managing-dates-and-characters.html#cb606-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;Tiger&quot;</span>, x)</span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode" id="cb608"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb608-1"><a href="3.4-managing-dates-and-characters.html#cb608-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;tiger&quot;</span>, x, <span class="at">ignore.case=</span><span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] 4 5</code></pre>
<div class="sourceCode" id="cb610"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb610-1"><a href="3.4-managing-dates-and-characters.html#cb610-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;TIGER&quot;</span>, x, <span class="at">ignore.case=</span><span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] 4 5</code></pre>
<p>We will see some uses of <code>grep()</code> and its cousins in the examples later.</p>
</div>
<div id="replacing-parts-of-character-strings" class="section level4" number="3.4.2.5">
<h4><span class="header-section-number">3.4.2.5</span> Replacing parts of character strings</h4>
<p>Text within character strings can be replaced or modified in several ways. If you are comfortable with regular expressions (see previous section) then you can use function <code>gsub()</code>. The syntax for <code>gsub()</code> is similar to that of <code>grep()</code>, with an additional input for the replacement string. Note that <code>gsub()</code> will replace every occurrence of the pattern, whether or not an occurrence is a whole word or not. The related function <code>sub()</code> works like <code>gsub()</code>, but only replaces the first occurrence of the pattern.</p>
<div class="sourceCode" id="cb612"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb612-1"><a href="3.4-managing-dates-and-characters.html#cb612-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;zebra&quot;</span>, <span class="st">&quot;hippo&quot;</span>, <span class="st">&quot;lion&quot;</span>, <span class="st">&quot;tiger&quot;</span>, <span class="st">&quot;Tiger&quot;</span>)</span>
<span id="cb612-2"><a href="3.4-managing-dates-and-characters.html#cb612-2" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">&quot;tiger&quot;</span>, <span class="st">&quot;giraffe&quot;</span>, x)</span></code></pre></div>
<pre><code>## [1] &quot;zebra&quot;   &quot;hippo&quot;   &quot;lion&quot;    &quot;giraffe&quot; &quot;Tiger&quot;</code></pre>
<div class="sourceCode" id="cb614"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb614-1"><a href="3.4-managing-dates-and-characters.html#cb614-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">&quot;tiger&quot;</span>, <span class="st">&quot;giraffe&quot;</span>, x, <span class="at">ignore.case=</span><span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] &quot;zebra&quot;   &quot;hippo&quot;   &quot;lion&quot;    &quot;giraffe&quot; &quot;giraffe&quot;</code></pre>
<div class="sourceCode" id="cb616"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb616-1"><a href="3.4-managing-dates-and-characters.html#cb616-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">&quot;z&quot;</span>, <span class="st">&quot;Z&quot;</span>, x)</span></code></pre></div>
<pre><code>## [1] &quot;Zebra&quot; &quot;hippo&quot; &quot;lion&quot;  &quot;tiger&quot; &quot;Tiger&quot;</code></pre>
<div class="sourceCode" id="cb618"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb618-1"><a href="3.4-managing-dates-and-characters.html#cb618-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sub</span>(<span class="st">&quot;tiger&quot;</span>, <span class="st">&quot;giraffe&quot;</span>, x, <span class="at">ignore.case=</span><span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] &quot;zebra&quot;   &quot;hippo&quot;   &quot;lion&quot;    &quot;giraffe&quot; &quot;giraffe&quot;</code></pre>
</div>
<div id="extracting-from-and-splitting-character-strings" class="section level4" number="3.4.2.6">
<h4><span class="header-section-number">3.4.2.6</span> Extracting from and splitting character strings</h4>
<p>Character strings can be split up using the function <code>strsplit()</code> (short for “string split”). This function can use regular expressions like <code>grep()</code> or <code>gsub()</code> can. It works by breaking a character string apart at a given text string. Unfortunately, its output can be a little confusing if you’re not used to working with R objects:</p>
<div class="sourceCode" id="cb620"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb620-1"><a href="3.4-managing-dates-and-characters.html#cb620-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Peromyscus_leucopus&quot;</span>,</span>
<span id="cb620-2"><a href="3.4-managing-dates-and-characters.html#cb620-2" aria-hidden="true" tabindex="-1"></a>       <span class="st">&quot;Sigmodon_hispidus&quot;</span>,</span>
<span id="cb620-3"><a href="3.4-managing-dates-and-characters.html#cb620-3" aria-hidden="true" tabindex="-1"></a>       <span class="st">&quot;Microtus_pennsylvanicus&quot;</span>)</span>
<span id="cb620-4"><a href="3.4-managing-dates-and-characters.html#cb620-4" aria-hidden="true" tabindex="-1"></a><span class="fu">strsplit</span>(x, <span class="st">&quot;_&quot;</span>)</span></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;Peromyscus&quot; &quot;leucopus&quot;  
## 
## [[2]]
## [1] &quot;Sigmodon&quot; &quot;hispidus&quot;
## 
## [[3]]
## [1] &quot;Microtus&quot;       &quot;pennsylvanicus&quot;</code></pre>
<p>Function <code>strsplit()</code> returns a list with one element for each element in the input vector. Each element of that list is a character vector, consisting of the pieces of that element of the input vector split by the splitting string. So, if you want only one part of each element of the input vector, you need to extract them from the output list. In this example, we can get the generic epithets by pulling the first element of each list element. The function <code>sapply()</code> applies a function to each element of a list and returns a result with the simplest possible structure (<code>sapply</code> is short for “apply and simplify”). The two commands below are equivalent, but the first is much simpler and should be the method you use.</p>
<div class="sourceCode" id="cb622"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb622-1"><a href="3.4-managing-dates-and-characters.html#cb622-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(<span class="fu">strsplit</span>(x, <span class="st">&quot;_&quot;</span>), <span class="st">&quot;[&quot;</span>, <span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Peromyscus&quot; &quot;Sigmodon&quot;   &quot;Microtus&quot;</code></pre>
<div class="sourceCode" id="cb624"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb624-1"><a href="3.4-managing-dates-and-characters.html#cb624-1" aria-hidden="true" tabindex="-1"></a><span class="co"># equivalent, not as easy:</span></span>
<span id="cb624-2"><a href="3.4-managing-dates-and-characters.html#cb624-2" aria-hidden="true" tabindex="-1"></a><span class="fu">do.call</span>(c, <span class="fu">lapply</span>(<span class="fu">strsplit</span>(x, <span class="st">&quot;_&quot;</span>), <span class="st">&quot;[&quot;</span>, <span class="dv">1</span>))</span></code></pre></div>
<pre><code>## [1] &quot;Peromyscus&quot; &quot;Sigmodon&quot;   &quot;Microtus&quot;</code></pre>
<p>The “<code>sapply</code>-<code>strsplit</code>” method is useful for breaking apart strings whose parts carry information. One common use case is breaking up dates into year, month, and day. Note that there are more elegant ways to do this using the R date classes, but treating dates as text strings can be convenient because the date and time classes are such a pain in the neck. When using this method, you will need to keep track of when date components are stored as text and when they are stored as numbers.</p>
<p>The code block below shows how to break apart dates using <code>strsplit()</code> and <code>sapply()</code>.</p>
<div class="sourceCode" id="cb626"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb626-1"><a href="3.4-managing-dates-and-characters.html#cb626-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;2019-08-03&quot;</span>, <span class="st">&quot;2020-08-15&quot;</span>, <span class="st">&quot;2021-08-07&quot;</span>)</span>
<span id="cb626-2"><a href="3.4-managing-dates-and-characters.html#cb626-2" aria-hidden="true" tabindex="-1"></a>ssx <span class="ot">&lt;-</span> <span class="fu">strsplit</span>(x, <span class="st">&quot;-&quot;</span>)</span>
<span id="cb626-3"><a href="3.4-managing-dates-and-characters.html#cb626-3" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">year=</span><span class="fu">sapply</span>(ssx, <span class="st">&quot;[&quot;</span>, <span class="dv">1</span>),</span>
<span id="cb626-4"><a href="3.4-managing-dates-and-characters.html#cb626-4" aria-hidden="true" tabindex="-1"></a>                <span class="at">mon=</span><span class="fu">sapply</span>(ssx, <span class="st">&quot;[&quot;</span>, <span class="dv">2</span>),</span>
<span id="cb626-5"><a href="3.4-managing-dates-and-characters.html#cb626-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">day=</span><span class="fu">sapply</span>(ssx, <span class="st">&quot;[&quot;</span>, <span class="dv">3</span>))</span>
<span id="cb626-6"><a href="3.4-managing-dates-and-characters.html#cb626-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb626-7"><a href="3.4-managing-dates-and-characters.html#cb626-7" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(a<span class="sc">$</span>year) <span class="co"># character, not a number!</span></span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb628"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb628-1"><a href="3.4-managing-dates-and-characters.html#cb628-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(a<span class="sc">$</span>mon) <span class="co"># character, not a number!</span></span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb630"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb630-1"><a href="3.4-managing-dates-and-characters.html#cb630-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(a<span class="sc">$</span>day) <span class="co"># character, not a number!</span></span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb632"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb632-1"><a href="3.4-managing-dates-and-characters.html#cb632-1" aria-hidden="true" tabindex="-1"></a>a<span class="sc">$</span>year <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(a<span class="sc">$</span>year)</span>
<span id="cb632-2"><a href="3.4-managing-dates-and-characters.html#cb632-2" aria-hidden="true" tabindex="-1"></a>a<span class="sc">$</span>mon <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(a<span class="sc">$</span>mon)</span>
<span id="cb632-3"><a href="3.4-managing-dates-and-characters.html#cb632-3" aria-hidden="true" tabindex="-1"></a>a<span class="sc">$</span>day <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(a<span class="sc">$</span>day)</span>
<span id="cb632-4"><a href="3.4-managing-dates-and-characters.html#cb632-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb632-5"><a href="3.4-managing-dates-and-characters.html#cb632-5" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(a<span class="sc">$</span>year) <span class="co"># numbers!</span></span></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<div class="sourceCode" id="cb634"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb634-1"><a href="3.4-managing-dates-and-characters.html#cb634-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(a<span class="sc">$</span>mon)  <span class="co"># numbers!</span></span></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<div class="sourceCode" id="cb636"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb636-1"><a href="3.4-managing-dates-and-characters.html#cb636-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(a<span class="sc">$</span>day)  <span class="co"># numbers!</span></span></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
</div>
<div id="matching-text-strings" class="section level4" number="3.4.2.7">
<h4><span class="header-section-number">3.4.2.7</span> Matching text strings</h4>
<p>As biologists we often keep our data in several separate spreadsheets or tables. These tables are interrelated by a set of “key” variables. If that sounds like a sketchy, haphazard way to build a database, it is. Databases per se are outside the scope of this course, but we will learn how to relate tables using R. If you’ve ever used the VLOOKUP function in Excel, then you know exactly what problem <code>match()</code> is designed to solve.</p>
<p>The function <code>match()</code> finds the indices of the matches of its first argument in its second. In other words, it searches for the values in one vector in a second vector, then returns the positions of the matches from the second vector. A simple example is below:</p>
<div class="sourceCode" id="cb638"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb638-1"><a href="3.4-managing-dates-and-characters.html#cb638-1" aria-hidden="true" tabindex="-1"></a>vec1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;gene1&quot;</span>, <span class="st">&quot;gene2&quot;</span>, <span class="st">&quot;gene3&quot;</span>, <span class="st">&quot;gene4&quot;</span>)</span>
<span id="cb638-2"><a href="3.4-managing-dates-and-characters.html#cb638-2" aria-hidden="true" tabindex="-1"></a>vec2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;gene1&quot;</span>, <span class="st">&quot;gene2&quot;</span>, <span class="st">&quot;gene1&quot;</span>, <span class="st">&quot;gene2&quot;</span>, </span>
<span id="cb638-3"><a href="3.4-managing-dates-and-characters.html#cb638-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;gene5&quot;</span>, <span class="st">&quot;gene3&quot;</span>, <span class="st">&quot;gene3&quot;</span>, <span class="st">&quot;gene4&quot;</span>)</span>
<span id="cb638-4"><a href="3.4-managing-dates-and-characters.html#cb638-4" aria-hidden="true" tabindex="-1"></a>vec3 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;gene1&quot;</span>, <span class="st">&quot;gene2&quot;</span>, <span class="st">&quot;gene1&quot;</span>, <span class="st">&quot;gene2&quot;</span>, </span>
<span id="cb638-5"><a href="3.4-managing-dates-and-characters.html#cb638-5" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;gene4&quot;</span>, <span class="st">&quot;gene3&quot;</span>, <span class="st">&quot;gene3&quot;</span>, <span class="st">&quot;gene4&quot;</span>)</span>
<span id="cb638-6"><a href="3.4-managing-dates-and-characters.html#cb638-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb638-7"><a href="3.4-managing-dates-and-characters.html#cb638-7" aria-hidden="true" tabindex="-1"></a><span class="fu">match</span>(vec1, vec2)</span></code></pre></div>
<pre><code>## [1] 1 2 6 8</code></pre>
<div class="sourceCode" id="cb640"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb640-1"><a href="3.4-managing-dates-and-characters.html#cb640-1" aria-hidden="true" tabindex="-1"></a><span class="fu">match</span>(vec2, vec1)</span></code></pre></div>
<pre><code>## [1]  1  2  1  2 NA  3  3  4</code></pre>
<div class="sourceCode" id="cb642"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb642-1"><a href="3.4-managing-dates-and-characters.html#cb642-1" aria-hidden="true" tabindex="-1"></a><span class="fu">match</span>(vec3, vec1)</span></code></pre></div>
<pre><code>## [1] 1 2 1 2 4 3 3 4</code></pre>
<p>The first example shows what <code>match()</code> is doing. For element in the first vector, <code>match()</code> returns the first position where that value occurs in the second vector. The second example shows what happens when trying to match a value that is not in the second vector: R returns <code>NA</code>. The third example shows how <code>match()</code> can be used to relate tables. The longer vector <code>vec3</code> is matched to the shorter vector <code>vec1</code>, which contains each unique value only once. If <code>vec1</code> was a variable in a data frame that contained other variables associated with genes, then the result of <code>match(vec3, vec1)</code> would return the rows in <code>vec1</code>’s data frame associated with each row of <code>vec3</code>’s data frame.</p>
<p>The code below demonstrates how <code>match()</code> might be used in practice. This example uses three tables from a real dataset. The three tables contain data and metadata for samples taken from stream across Georgia. The commands use <code>match()</code> to assign site numbers, dates, and geographic coordinates to observations using different key variables. We’ll revisit these data again in the <a href="3.5-mod-03-dataframe.html#mod-03-dataframe">next section</a> where we see how to merge datasets.</p>
<div class="sourceCode" id="cb644"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb644-1"><a href="3.4-managing-dates-and-characters.html#cb644-1" aria-hidden="true" tabindex="-1"></a><span class="co"># not run (see next section)</span></span>
<span id="cb644-2"><a href="3.4-managing-dates-and-characters.html#cb644-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb644-3"><a href="3.4-managing-dates-and-characters.html#cb644-3" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">stringsAsFactors=</span><span class="cn">FALSE</span>)</span>
<span id="cb644-4"><a href="3.4-managing-dates-and-characters.html#cb644-4" aria-hidden="true" tabindex="-1"></a>name1 <span class="ot">&lt;-</span> <span class="st">&quot;dat_samples_2021-08-04.csv&quot;</span></span>
<span id="cb644-5"><a href="3.4-managing-dates-and-characters.html#cb644-5" aria-hidden="true" tabindex="-1"></a>name2 <span class="ot">&lt;-</span> <span class="st">&quot;dat_stream_indices_2021-08-04.csv&quot;</span></span>
<span id="cb644-6"><a href="3.4-managing-dates-and-characters.html#cb644-6" aria-hidden="true" tabindex="-1"></a>name3 <span class="ot">&lt;-</span> <span class="st">&quot;loc_meta_vaa_2020-11-18.csv&quot;</span></span>
<span id="cb644-7"><a href="3.4-managing-dates-and-characters.html#cb644-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb644-8"><a href="3.4-managing-dates-and-characters.html#cb644-8" aria-hidden="true" tabindex="-1"></a>x1 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(name1, <span class="at">header=</span><span class="cn">TRUE</span>)</span>
<span id="cb644-9"><a href="3.4-managing-dates-and-characters.html#cb644-9" aria-hidden="true" tabindex="-1"></a>x2 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(name2, <span class="at">header=</span><span class="cn">TRUE</span>)</span>
<span id="cb644-10"><a href="3.4-managing-dates-and-characters.html#cb644-10" aria-hidden="true" tabindex="-1"></a>x3 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(name3, <span class="at">header=</span><span class="cn">TRUE</span>)</span>
<span id="cb644-11"><a href="3.4-managing-dates-and-characters.html#cb644-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb644-12"><a href="3.4-managing-dates-and-characters.html#cb644-12" aria-hidden="true" tabindex="-1"></a><span class="co"># x2 contains the response variable</span></span>
<span id="cb644-13"><a href="3.4-managing-dates-and-characters.html#cb644-13" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> x2</span>
<span id="cb644-14"><a href="3.4-managing-dates-and-characters.html#cb644-14" aria-hidden="true" tabindex="-1"></a><span class="co"># add site name, year, and date from x1</span></span>
<span id="cb644-15"><a href="3.4-managing-dates-and-characters.html#cb644-15" aria-hidden="true" tabindex="-1"></a>matchx <span class="ot">&lt;-</span> <span class="fu">match</span>(dat<span class="sc">$</span>uocc, x1<span class="sc">$</span>uocc)</span>
<span id="cb644-16"><a href="3.4-managing-dates-and-characters.html#cb644-16" aria-hidden="true" tabindex="-1"></a>dat<span class="sc">$</span>site <span class="ot">&lt;-</span> x1<span class="sc">$</span>loc[matchx]</span>
<span id="cb644-17"><a href="3.4-managing-dates-and-characters.html#cb644-17" aria-hidden="true" tabindex="-1"></a>dat<span class="sc">$</span>year <span class="ot">&lt;-</span> x1<span class="sc">$</span>year[matchx]</span>
<span id="cb644-18"><a href="3.4-managing-dates-and-characters.html#cb644-18" aria-hidden="true" tabindex="-1"></a>dat<span class="sc">$</span>doy  <span class="ot">&lt;-</span> x1<span class="sc">$</span>doy[matchx]</span>
<span id="cb644-19"><a href="3.4-managing-dates-and-characters.html#cb644-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb644-20"><a href="3.4-managing-dates-and-characters.html#cb644-20" aria-hidden="true" tabindex="-1"></a><span class="co"># equivalent to:</span></span>
<span id="cb644-21"><a href="3.4-managing-dates-and-characters.html#cb644-21" aria-hidden="true" tabindex="-1"></a><span class="co">#dat$site &lt;- x1$loc[match(dat$uocc, x1$uocc)]</span></span>
<span id="cb644-22"><a href="3.4-managing-dates-and-characters.html#cb644-22" aria-hidden="true" tabindex="-1"></a><span class="co">#dat$year &lt;- x1$year[match(dat$uocc, x1$uocc)]</span></span>
<span id="cb644-23"><a href="3.4-managing-dates-and-characters.html#cb644-23" aria-hidden="true" tabindex="-1"></a><span class="co">#dat$doy  &lt;- x1$doy[match(dat$uocc, x1$uocc)]</span></span>
<span id="cb644-24"><a href="3.4-managing-dates-and-characters.html#cb644-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb644-25"><a href="3.4-managing-dates-and-characters.html#cb644-25" aria-hidden="true" tabindex="-1"></a><span class="co"># grab latitude and longitude from x3</span></span>
<span id="cb644-26"><a href="3.4-managing-dates-and-characters.html#cb644-26" aria-hidden="true" tabindex="-1"></a>matchx <span class="ot">&lt;-</span> <span class="fu">match</span>(dat<span class="sc">$</span>site, x3<span class="sc">$</span>loc)</span>
<span id="cb644-27"><a href="3.4-managing-dates-and-characters.html#cb644-27" aria-hidden="true" tabindex="-1"></a>dat<span class="sc">$</span>lat <span class="ot">&lt;-</span> x3<span class="sc">$</span>lat[matchx]</span>
<span id="cb644-28"><a href="3.4-managing-dates-and-characters.html#cb644-28" aria-hidden="true" tabindex="-1"></a>dat<span class="sc">$</span>long <span class="ot">&lt;-</span> x3<span class="sc">$</span>long[matchx]</span></code></pre></div>
</div>
<div id="standardizing-numbers-as-text" class="section level4" number="3.4.2.8">
<h4><span class="header-section-number">3.4.2.8</span> Standardizing numbers as text</h4>
<p>The function <code>formatC()</code> formats numbers in a manner similar to the language C. This is useful for naming objects or parts of objects with numeric names that have a fixed width or format. The most common use case is converting numbers like “1, 12, 112” to strings like “001, 012, 112”. The example below uses <code>formatC()</code> in combination with <code>paste()</code> to generate some file names.</p>
<div class="sourceCode" id="cb645"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb645-1"><a href="3.4-managing-dates-and-characters.html#cb645-1" aria-hidden="true" tabindex="-1"></a>file.nums <span class="ot">&lt;-</span> <span class="fu">formatC</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="at">width=</span><span class="dv">3</span>, <span class="at">flag=</span><span class="st">&quot;0&quot;</span>)</span>
<span id="cb645-2"><a href="3.4-managing-dates-and-characters.html#cb645-2" aria-hidden="true" tabindex="-1"></a>file.names <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">&quot;file&quot;</span>, file.nums, <span class="at">sep=</span><span class="st">&quot;_&quot;</span>)</span>
<span id="cb645-3"><a href="3.4-managing-dates-and-characters.html#cb645-3" aria-hidden="true" tabindex="-1"></a>file.names</span></code></pre></div>
<pre><code>## [1] &quot;file_001&quot; &quot;file_002&quot; &quot;file_003&quot; &quot;file_004&quot;</code></pre>
</div>
</div>
</div>
<h3>Literature Cited</h3>
<div id="refs" class="references csl-bib-body hanging-indent" line-spacing="2">
<div id="ref-grolemund2011" class="csl-entry">
Grolemund, G., and H. Wickham. 2011. <a href="https://www.jstatsoft.org/v40/i03/">Dates and times made easy with <span class="nocase">lubridate</span></a>. Journal of Statistical Software 40:1–25.
</div>
<div id="ref-spector2008" class="csl-entry">
Spector, P. 2008. Data manipulation with <span>R</span>. Springer Science+Business Media, New York.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="3.3-selecting-data-with.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="3.5-mod-03-dataframe.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
